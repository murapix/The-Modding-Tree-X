/* empty css                    */import"./vue.84036b60.js";import{Z as $,l as z,aa as R,t as C,ay as dt,ar as Ce,aE as h,a0 as N,aK as ke,a1 as c,O as K,aG as Qe,A as ne,C as o,_ as V,a8 as y,b6 as O,b8 as wt,bs as kn,aq as xe,bu as je,bb as St,T as wn,a7 as E,u as ft,j as Sn,bv as Dt,q as Ke,b1 as fe,aC as zt,w as ce,b2 as we,aL as Le,$ as I,J as D,G as se,aN as J,I as oe,aH as ge,aF as pe,z as me,bn as Mn,br as $n,aJ as Wt,al as st,H as Cn,y as Lt,be as In}from"./@vue.4ce677c2.js";import{c as Kt}from"./nanoevents.1080beb7.js";import{L as Ne}from"./lz-string.731cedc5.js";import{i as Tn}from"./is-plain-object.906d88e8.js";import{Y as Pn}from"./vue-next-select.fc90abc3.js";import{D as xn}from"./vuedraggable.d7ae4e1e.js";import{p as On}from"./vue-textarea-autosize.35804eaf.js";import{s as Fn,u as En}from"./vue-toastification.4982b895.js";import{v as Vn,n as Rn}from"./workbox-window.8d14e8b7.js";import"./sortablejs.d0b0aa19.js";const Dn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}};Dn();const Ln="modulepreload",qt={},qn="./",it=function(t,n){return!n||n.length===0?t():Promise.all(n.map(s=>{if(s=`${qn}${s}`,s in qt)return;qt[s]=!0;const i=s.endsWith(".css"),r=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":Ln,i||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),i)return new Promise((a,d)=>{l.addEventListener("load",a),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},Bn="./projInfo-schema.json",An="Profectus",Un="A project made in Profectus",Gn="",Hn="",jn="",zn="",Wn="0.0",Kn="Initial Commit",Yn=!0,Zn=!1,Jn=2,Xn=!0,Qn=null,es="",ts=["main"],ns=3600,ss=1,is=!0,rs="base64";var B={$schema:Bn,title:An,description:Un,id:Gn,author:Hn,discordName:jn,discordLink:zn,versionNumber:Wn,versionTitle:Kn,allowGoBack:Yn,defaultShowSmall:Zn,defaultDecimalsShown:Jn,useHeader:Xn,banner:Qn,logo:es,initialTabs:ts,maxTickLength:ns,offlineLimit:ss,enablePausing:is,exportEncoding:rs};const yt=17,as=9e15,os=Math.log10(9e15),ls=1/9e15,us=308,cs=-324,Bt=5,ds=function(){const e=[];for(let n=cs+1;n<=us;n++)e.push(Number("1e"+n));const t=323;return function(n){return e[n+t]}}(),Ie=[2,Math.E,3,4,5,6,7,8,9,10],fs=[[1,1.0891168053867777,1.1789745164521264,1.2701428397304229,1.3632066654400328,1.4587804913784246,1.557523817412741,1.660158301473385,1.767487542936873,1.8804205225512542,2],[1,1.1121114330934,1.23103892493161,1.35838369631113,1.49605193039935,1.64635423375119,1.81213853570186,1.99697132461829,2.20538955455724,2.44325744833852,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.18422737399915,1.4066113788546144,1.680911177655277,2.027492094355525,2.4775152854601967,3.080455730250329,3.918234505962507,5.1332705696484595,6.9878696918072905,10]],ms=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]],u=function(t){return m.fromValue_noAlloc(t)},x=function(e,t,n){return m.fromComponents(e,t,n)},F=function(t,n,s){return m.fromComponents_noNormalize(t,n,s)},_e=function(t,n){const s=n+1,i=Math.ceil(Math.log10(Math.abs(t))),r=Math.round(t*Math.pow(10,s-i))*Math.pow(10,i-s);return parseFloat(r.toFixed(Math.max(s-i,0)))},_t=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},hs=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let t=1;for(;e<10;)t=t*e,++e;e-=1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const s=e*e;let i=e;return n=n+1/(12*i),i=i*s,n=n+1/(360*i),i=i*s,n=n+1/(1260*i),i=i*s,n=n+1/(1680*i),i=i*s,n=n+1/(1188*i),i=i*s,n=n+691/(360360*i),i=i*s,n=n+7/(1092*i),i=i*s,n=n+3617/(122400*i),Math.exp(n)/t},Yt=.5671432904097838,At=function(e,t=1e-10){let n,s;if(!Number.isFinite(e)||e===0)return e;if(e===1)return Yt;e<10?n=0:n=Math.log(e)-Math.log(Math.log(e));for(let i=0;i<100;++i){if(s=(e*Math.exp(-n)+n*n)/(n+1),Math.abs(s-n)<t*Math.abs(s))return s;n=s}throw Error(`Iteration failed to converge: ${e.toString()}`)};function Ut(e,t=1e-10){let n,s,i,r;if(!Number.isFinite(e.mag)||e===m.dZero)return e;if(e===m.dOne)return u(Yt);m.abs(e),n=m.ln(e);for(let l=0;l<100;++l){if(s=m.exp(-n),i=n.sub(e.mul(s)),r=n.sub(i.div(n.add(1).sub(n.add(2).mul(i).div(m.mul(2,n).add(2))))),m.abs(r.sub(n)).lt(m.abs(r).mul(t)))return r;n=r}throw Error(`Iteration failed to converge: ${e.toString()}`)}const g=class{constructor(e){this.sign=Number.NaN,this.mag=Number.NaN,this.layer=Number.NaN,e instanceof g||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let t;return this.mag===5e-324?t=5:t=this.mag/ds(e),this.sign*t}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer,this.exponent))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,t,n){return new g().fromComponents(e,t,n)}static fromComponents_noNormalize(e,t,n){return new g().fromComponents_noNormalize(e,t,n)}static fromMantissaExponent(e,t){return new g().fromMantissaExponent(e,t)}static fromMantissaExponent_noNormalize(e,t){return new g().fromMantissaExponent_noNormalize(e,t)}static fromDecimal(e){return new g().fromDecimal(e)}static fromNumber(e){return new g().fromNumber(e)}static fromString(e){return new g().fromString(e)}static fromValue(e){return new g().fromValue(e)}static fromValue_noAlloc(e){return e instanceof g?e:new g(e)}static abs(e){return u(e).abs()}static neg(e){return u(e).neg()}static negate(e){return u(e).neg()}static negated(e){return u(e).neg()}static sign(e){return u(e).sign}static sgn(e){return u(e).sign}static round(e){return u(e).round()}static floor(e){return u(e).floor()}static ceil(e){return u(e).ceil()}static trunc(e){return u(e).trunc()}static add(e,t){return u(e).add(t)}static plus(e,t){return u(e).add(t)}static sub(e,t){return u(e).sub(t)}static subtract(e,t){return u(e).sub(t)}static minus(e,t){return u(e).sub(t)}static mul(e,t){return u(e).mul(t)}static multiply(e,t){return u(e).mul(t)}static times(e,t){return u(e).mul(t)}static div(e,t){return u(e).div(t)}static divide(e,t){return u(e).div(t)}static recip(e){return u(e).recip()}static reciprocal(e){return u(e).recip()}static reciprocate(e){return u(e).reciprocate()}static cmp(e,t){return u(e).cmp(t)}static cmpabs(e,t){return u(e).cmpabs(t)}static compare(e,t){return u(e).cmp(t)}static isNaN(e){return e=u(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=u(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,t){return u(e).eq(t)}static equals(e,t){return u(e).eq(t)}static neq(e,t){return u(e).neq(t)}static notEquals(e,t){return u(e).notEquals(t)}static lt(e,t){return u(e).lt(t)}static lte(e,t){return u(e).lte(t)}static gt(e,t){return u(e).gt(t)}static gte(e,t){return u(e).gte(t)}static max(e,t){return u(e).max(t)}static min(e,t){return u(e).min(t)}static minabs(e,t){return u(e).minabs(t)}static maxabs(e,t){return u(e).maxabs(t)}static clamp(e,t,n){return u(e).clamp(t,n)}static clampMin(e,t){return u(e).clampMin(t)}static clampMax(e,t){return u(e).clampMax(t)}static cmp_tolerance(e,t,n){return u(e).cmp_tolerance(t,n)}static compare_tolerance(e,t,n){return u(e).cmp_tolerance(t,n)}static eq_tolerance(e,t,n){return u(e).eq_tolerance(t,n)}static equals_tolerance(e,t,n){return u(e).eq_tolerance(t,n)}static neq_tolerance(e,t,n){return u(e).neq_tolerance(t,n)}static notEquals_tolerance(e,t,n){return u(e).notEquals_tolerance(t,n)}static lt_tolerance(e,t,n){return u(e).lt_tolerance(t,n)}static lte_tolerance(e,t,n){return u(e).lte_tolerance(t,n)}static gt_tolerance(e,t,n){return u(e).gt_tolerance(t,n)}static gte_tolerance(e,t,n){return u(e).gte_tolerance(t,n)}static pLog10(e){return u(e).pLog10()}static absLog10(e){return u(e).absLog10()}static log10(e){return u(e).log10()}static log(e,t){return u(e).log(t)}static log2(e){return u(e).log2()}static ln(e){return u(e).ln()}static logarithm(e,t){return u(e).logarithm(t)}static pow(e,t){return u(e).pow(t)}static pow10(e){return u(e).pow10()}static root(e,t){return u(e).root(t)}static factorial(e,t){return u(e).factorial()}static gamma(e,t){return u(e).gamma()}static lngamma(e,t){return u(e).lngamma()}static exp(e){return u(e).exp()}static sqr(e){return u(e).sqr()}static sqrt(e){return u(e).sqrt()}static cube(e){return u(e).cube()}static cbrt(e){return u(e).cbrt()}static tetrate(e,t=2,n=F(1,0,1)){return u(e).tetrate(t,n)}static iteratedexp(e,t=2,n=F(1,0,1)){return u(e).iteratedexp(t,n)}static iteratedlog(e,t=10,n=1){return u(e).iteratedlog(t,n)}static layeradd10(e,t){return u(e).layeradd10(t)}static layeradd(e,t,n=10){return u(e).layeradd(t,n)}static slog(e,t=10){return u(e).slog(t)}static lambertw(e){return u(e).lambertw()}static ssqrt(e){return u(e).ssqrt()}static pentate(e,t=2,n=F(1,0,1)){return u(e).pentate(t,n)}static affordGeometricSeries(e,t,n,s){return this.affordGeometricSeries_core(u(e),u(t),u(n),s)}static sumGeometricSeries(e,t,n,s){return this.sumGeometricSeries_core(e,u(t),u(n),s)}static affordArithmeticSeries(e,t,n,s){return this.affordArithmeticSeries_core(u(e),u(t),u(n),u(s))}static sumArithmeticSeries(e,t,n,s){return this.sumArithmeticSeries_core(u(e),u(t),u(n),u(s))}static efficiencyOfPurchase(e,t,n){return this.efficiencyOfPurchase_core(u(e),u(t),u(n))}static randomDecimalForTesting(e){if(Math.random()*20<1)return F(0,0,0);const t=Math.random()>.5?1:-1;if(Math.random()*20<1)return F(t,0,1);const n=Math.floor(Math.random()*(e+1));let s=n===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(s=Math.trunc(s));let i=Math.pow(10,s);return Math.random()>.9&&(i=Math.trunc(i)),x(t,n,i)}static affordGeometricSeries_core(e,t,n,s){const i=t.mul(n.pow(s));return g.floor(e.div(i).mul(n.sub(1)).add(1).log10().div(n.log10()))}static sumGeometricSeries_core(e,t,n,s){return t.mul(n.pow(s)).mul(g.sub(1,n.pow(e))).div(g.sub(1,n))}static affordArithmeticSeries_core(e,t,n,s){const r=t.add(s.mul(n)).sub(n.div(2)),l=r.pow(2);return r.neg().add(l.add(n.mul(e).mul(2)).sqrt()).div(n).floor()}static sumArithmeticSeries_core(e,t,n,s){const i=t.add(s.mul(n));return e.div(2).mul(i.mul(2).plus(e.sub(1).mul(n)))}static efficiencyOfPurchase_core(e,t,n){return e.div(t).add(e.div(n))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<ls)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),t=Math.sign(this.mag);if(e>=as)return this.layer+=1,this.mag=t*Math.log10(e),this;for(;e<os&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=t*Math.pow(10,e),e=Math.abs(this.mag),t=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this.normalize(),this}fromComponents_noNormalize(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this}fromMantissaExponent(e,t){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=t+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,t){return this.fromMantissaExponent(e,t),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){e=e.replace(",","");const t=e.split("^^^");if(t.length===2){const p=parseFloat(t[0]),_=parseFloat(t[1]),S=t[1].split(";");let k=1;if(S.length===2&&(k=parseFloat(S[1]),isFinite(k)||(k=1)),isFinite(p)&&isFinite(_)){const L=g.pentate(p,_,k);return this.sign=L.sign,this.layer=L.layer,this.mag=L.mag,this}}const n=e.split("^^");if(n.length===2){const p=parseFloat(n[0]),_=parseFloat(n[1]),S=n[1].split(";");let k=1;if(S.length===2&&(k=parseFloat(S[1]),isFinite(k)||(k=1)),isFinite(p)&&isFinite(_)){const L=g.tetrate(p,_,k);return this.sign=L.sign,this.layer=L.layer,this.mag=L.mag,this}}const s=e.split("^");if(s.length===2){const p=parseFloat(s[0]),_=parseFloat(s[1]);if(isFinite(p)&&isFinite(_)){const S=g.pow(p,_);return this.sign=S.sign,this.layer=S.layer,this.mag=S.mag,this}}e=e.trim().toLowerCase();let i,r,l=e.split("pt");if(l.length===2){i=10,r=parseFloat(l[0]),l[1]=l[1].replace("(",""),l[1]=l[1].replace(")","");let p=parseFloat(l[1]);if(isFinite(p)||(p=1),isFinite(i)&&isFinite(r)){const _=g.tetrate(i,r,p);return this.sign=_.sign,this.layer=_.layer,this.mag=_.mag,this}}if(l=e.split("p"),l.length===2){i=10,r=parseFloat(l[0]),l[1]=l[1].replace("(",""),l[1]=l[1].replace(")","");let p=parseFloat(l[1]);if(isFinite(p)||(p=1),isFinite(i)&&isFinite(r)){const _=g.tetrate(i,r,p);return this.sign=_.sign,this.layer=_.layer,this.mag=_.mag,this}}const a=e.split("e"),d=a.length-1;if(d===0){const p=parseFloat(e);if(isFinite(p))return this.fromNumber(p)}else if(d===1){const p=parseFloat(e);if(isFinite(p)&&p!==0)return this.fromNumber(p)}const f=e.split("e^");if(f.length===2){this.sign=1,f[0].charAt(0)=="-"&&(this.sign=-1);let p="";for(let _=0;_<f[1].length;++_){const S=f[1].charCodeAt(_);if(S>=43&&S<=57||S===101)p+=f[1].charAt(_);else return this.layer=parseFloat(p),this.mag=parseFloat(f[1].substr(_+1)),this.normalize(),this}}if(d<1)return this.sign=0,this.layer=0,this.mag=0,this;const b=parseFloat(a[0]);if(b===0)return this.sign=0,this.layer=0,this.mag=0,this;let v=parseFloat(a[a.length-1]);if(d>=2){const p=parseFloat(a[a.length-2]);isFinite(p)&&(v*=Math.sign(p),v+=_t(p))}if(!isFinite(b))this.sign=a[0]==="-"?-1:1,this.layer=d,this.mag=v;else if(d===1)this.sign=Math.sign(b),this.layer=1,this.mag=v+Math.log10(Math.abs(b));else if(this.sign=Math.sign(b),this.layer=d,d===2){const p=g.mul(x(1,2,v),u(b));return this.sign=p.sign,this.layer=p.layer,this.mag=p.mag,this}else this.mag=v;return this.normalize(),this}fromValue(e){return e instanceof g||e!=null&&typeof e=="object"&&"sign"in e&&"mag"in e&&"layer"in e?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:_e(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:_e(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=Bt?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):_e(this.m,e)+"e"+_e(this.e,e):this.layer===1?_e(this.m,e)+"e"+_e(this.e,e):this.layer<=Bt?(this.sign===-1?"-":"")+"e".repeat(this.layer)+_e(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+_e(this.mag,e)}abs(){return F(this.sign===0?0:1,this.layer,this.mag)}neg(){return F(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?g.dZero:this.layer===0?x(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?g.dZero:this.layer===0?x(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?g.dZero:this.layer===0?x(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?g.dZero:this.layer===0?x(this.sign,0,Math.trunc(this.mag)):this}add(e){const t=u(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer)||this.sign===0)return t;if(t.sign===0)return this;if(this.sign===-t.sign&&this.layer===t.layer&&this.mag===t.mag)return F(0,0,0);let n,s;if(this.layer>=2||t.layer>=2)return this.maxabs(t);if(g.cmpabs(this,t)>0?(n=this,s=t):(n=t,s=this),n.layer===0&&s.layer===0)return u(n.sign*n.mag+s.sign*s.mag);const i=n.layer*Math.sign(n.mag),r=s.layer*Math.sign(s.mag);if(i-r>=2)return n;if(i===0&&r===-1){if(Math.abs(s.mag-Math.log10(n.mag))>yt)return n;{const l=Math.pow(10,Math.log10(n.mag)-s.mag),a=s.sign+n.sign*l;return x(Math.sign(a),1,s.mag+Math.log10(Math.abs(a)))}}if(i===1&&r===0){if(Math.abs(n.mag-Math.log10(s.mag))>yt)return n;{const l=Math.pow(10,n.mag-Math.log10(s.mag)),a=s.sign+n.sign*l;return x(Math.sign(a),1,Math.log10(s.mag)+Math.log10(Math.abs(a)))}}if(Math.abs(n.mag-s.mag)>yt)return n;{const l=Math.pow(10,n.mag-s.mag),a=s.sign+n.sign*l;return x(Math.sign(a),1,s.mag+Math.log10(Math.abs(a)))}}plus(e){return this.add(e)}sub(e){return this.add(u(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const t=u(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer))return t;if(this.sign===0||t.sign===0)return F(0,0,0);if(this.layer===t.layer&&this.mag===-t.mag)return F(this.sign*t.sign,0,1);let n,s;if(this.layer>t.layer||this.layer==t.layer&&Math.abs(this.mag)>Math.abs(t.mag)?(n=this,s=t):(n=t,s=this),n.layer===0&&s.layer===0)return u(n.sign*s.sign*n.mag*s.mag);if(n.layer>=3||n.layer-s.layer>=2)return x(n.sign*s.sign,n.layer,n.mag);if(n.layer===1&&s.layer===0)return x(n.sign*s.sign,1,n.mag+Math.log10(s.mag));if(n.layer===1&&s.layer===1)return x(n.sign*s.sign,1,n.mag+s.mag);if(n.layer===2&&s.layer===1){const i=x(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(x(Math.sign(s.mag),s.layer-1,Math.abs(s.mag)));return x(n.sign*s.sign,i.layer+1,i.sign*i.mag)}if(n.layer===2&&s.layer===2){const i=x(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(x(Math.sign(s.mag),s.layer-1,Math.abs(s.mag)));return x(n.sign*s.sign,i.layer+1,i.sign*i.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const t=u(e);return this.mul(t.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?g.dNaN:this.layer===0?x(this.sign,0,1/this.mag):x(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const t=u(e);return this.sign>t.sign?1:this.sign<t.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const t=u(e),n=this.mag>0?this.layer:-this.layer,s=t.mag>0?t.layer:-t.layer;return n>s?1:n<s?-1:this.mag>t.mag?1:this.mag<t.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const t=u(e);return this.sign===t.sign&&this.layer===t.layer&&this.mag===t.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const t=u(e);return this.lt(t)?t:this}min(e){const t=u(e);return this.gt(t)?t:this}maxabs(e){const t=u(e);return this.cmpabs(t)<0?t:this}minabs(e){const t=u(e);return this.cmpabs(t)>0?t:this}clamp(e,t){return this.max(e).min(t)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,t){const n=u(e);return this.eq_tolerance(n,t)?0:this.cmp(n)}compare_tolerance(e,t){return this.cmp_tolerance(e,t)}eq_tolerance(e,t){const n=u(e);if(t==null&&(t=1e-7),this.sign!==n.sign||Math.abs(this.layer-n.layer)>1)return!1;let s=this.mag,i=n.mag;return this.layer>n.layer&&(i=_t(i)),this.layer<n.layer&&(s=_t(s)),Math.abs(s-i)<=t*Math.max(Math.abs(s),Math.abs(i))}equals_tolerance(e,t){return this.eq_tolerance(e,t)}neq_tolerance(e,t){return!this.eq_tolerance(e,t)}notEquals_tolerance(e,t){return this.neq_tolerance(e,t)}lt_tolerance(e,t){const n=u(e);return!this.eq_tolerance(n,t)&&this.lt(n)}lte_tolerance(e,t){const n=u(e);return this.eq_tolerance(n,t)||this.lt(n)}gt_tolerance(e,t){const n=u(e);return!this.eq_tolerance(n,t)&&this.gt(n)}gte_tolerance(e,t){const n=u(e);return this.eq_tolerance(n,t)||this.gt(n)}pLog10(){return this.lt(g.dZero)?g.dZero:this.log10()}absLog10(){return this.sign===0?g.dNaN:this.layer>0?x(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):x(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?g.dNaN:this.layer>0?x(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):x(this.sign,0,Math.log10(this.mag))}log(e){return e=u(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?g.dNaN:this.layer===0&&e.layer===0?x(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):g.div(this.log10(),e.log10())}log2(){return this.sign<=0?g.dNaN:this.layer===0?x(this.sign,0,Math.log2(this.mag)):this.layer===1?x(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?x(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):x(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?g.dNaN:this.layer===0?x(this.sign,0,Math.log(this.mag)):this.layer===1?x(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?x(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):x(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const t=u(e),n=this,s=t;if(n.sign===0)return s.eq(0)?F(1,0,1):n;if(n.sign===1&&n.layer===0&&n.mag===1)return n;if(s.sign===0)return F(1,0,1);if(s.sign===1&&s.layer===0&&s.mag===1)return n;const i=n.absLog10().mul(s).pow10();return this.sign===-1?Math.abs(s.toNumber()%2)%2===1?i.neg():Math.abs(s.toNumber()%2)%2===0?i:g.dNaN:i}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return g.dNaN;let e=this;if(e.layer===0){const t=Math.pow(10,e.sign*e.mag);if(Number.isFinite(t)&&Math.abs(t)>=.1)return x(1,0,t);if(e.sign===0)return g.dOne;e=F(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?x(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?x(-e.sign,e.layer+1,-e.mag):g.dOne}pow_base(e){return u(e).pow(this)}root(e){const t=u(e);return this.pow(t.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?g.exp(g.mul(this,g.ln(this).sub(1))):g.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(F(1,0,24)))return u(hs(this.sign*this.mag));const e=this.mag-1;let t=.9189385332046727;t=t+(e+.5)*Math.log(e),t=t-e;const n=e*e;let s=e,i=12*s,r=1/i,l=t+r;if(l===t||(t=l,s=s*n,i=360*s,r=1/i,l=t-r,l===t))return g.exp(t);t=l,s=s*n,i=1260*s;let a=1/i;return t=t+a,s=s*n,i=1680*s,a=1/i,t=t-a,g.exp(t)}else return this.layer===1?g.exp(g.mul(this,g.ln(this).sub(1))):g.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?g.dOne:this.layer===0&&this.mag<=709.7?u(Math.exp(this.sign*this.mag)):this.layer===0?x(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?x(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):x(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return u(Math.sqrt(this.sign*this.mag));if(this.layer===1)return x(1,2,Math.log10(this.mag)-.3010299956639812);{const e=g.div(F(this.sign,this.layer-1,this.mag),F(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,t=F(1,0,1)){if(e===1)return g.pow(this,t);if(e===0)return new g(t);if(this.eq(g.dOne))return g.dOne;if(this.eq(-1))return g.pow(this,t);if(e===Number.POSITIVE_INFINITY){const i=this.toNumber();if(i<=1.444667861009766&&i>=.06598803584531254){if(i>1.444667861009099)return new g(Math.E);const r=g.ln(this).neg();return r.lambertw().div(r)}else return i>1.444667861009766?new g(Number.POSITIVE_INFINITY):g.dNaN}if(this.eq(g.dZero)){let i=Math.abs((e+1)%2);return i>1&&(i=2-i),new g(i)}if(e<0)return g.iteratedlog(t,this,-e);t=u(t);const n=e;e=Math.trunc(e);const s=n-e;if(this.gt(g.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let i=0;i<e;++i){const r=t;if(t=this.pow(t),r.eq(t))return t}if(s!=0){const i=this.pow(t);return t.mul(1-s).add(i.mul(s))}return t}s!==0&&(t.eq(g.dOne)?this.gt(10)?t=this.pow(s):(t=u(g.tetrate_critical(this.toNumber(),s)),this.lt(2)&&(t=t.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?t=t.layeradd10(s):t=t.layeradd(s,this));for(let i=0;i<e;++i){if(t=this.pow(t),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(t.layer-this.layer>3)return F(t.sign,t.layer+(e-i-1),t.mag);if(i>1e4)return t}return t}iteratedexp(e=2,t=F(1,0,1)){return this.tetrate(e,t)}iteratedlog(e=10,t=1){if(t<0)return g.tetrate(e,-t,this);e=u(e);let n=u(this);const s=t;t=Math.trunc(t);const i=s-t;if(n.layer-e.layer>3){const r=Math.min(t,n.layer-e.layer-3);t-=r,n.layer-=r}for(let r=0;r<t;++r){if(n=n.log(e),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(r>1e4)return n}return i>0&&i<1&&(e.eq(10)?n=n.layeradd10(-i):n=n.layeradd(-i,e)),n}slog(e=10){if(e=u(e),e.lte(g.dZero)||e.eq(g.dOne))return g.dNaN;if(e.lt(g.dOne))return this.eq(g.dOne)?g.dZero:this.eq(g.dZero)?g.dNegOne:g.dNaN;if(this.mag<0||this.eq(g.dZero))return g.dNegOne;let t=0,n=u(this);if(n.layer-e.layer>3){const s=n.layer-e.layer-3;t+=s,n.layer-=s}for(let s=0;s<100;++s)if(n.lt(g.dZero))n=g.pow(e,n),t-=1;else{if(n.lte(g.dOne))return u(t+g.slog_critical(e.toNumber(),n.toNumber()));t+=1,n=g.log(n,e)}return u(t)}static slog_critical(e,t){return e>10?t-1:g.critical_section(e,t,ms)}static tetrate_critical(e,t){return g.critical_section(e,t,fs)}static critical_section(e,t,n){t*=10,t<0&&(t=0),t>10&&(t=10),e<2&&(e=2),e>10&&(e=10);let s=0,i=0;for(let a=0;a<Ie.length;++a)if(Ie[a]==e){s=n[a][Math.floor(t)],i=n[a][Math.ceil(t)];break}else if(Ie[a]<e&&Ie[a+1]>e){const d=(e-Ie[a])/(Ie[a+1]-Ie[a]);s=n[a][Math.floor(t)]*(1-d)+n[a+1][Math.floor(t)]*d,i=n[a][Math.ceil(t)]*(1-d)+n[a+1][Math.ceil(t)]*d;break}const r=t-Math.floor(t);return s*(1-r)+i*r}layeradd10(e){e=g.fromValue_noAlloc(e).toNumber();const t=u(this);if(e>=1){t.mag<0&&t.layer>0?(t.sign=0,t.mag=0,t.layer=0):t.sign===-1&&t.layer==0&&(t.sign=1,t.mag=-t.mag);const n=Math.trunc(e);e-=n,t.layer+=n}if(e<=-1){const n=Math.trunc(e);if(e-=n,t.layer+=n,t.layer<0)for(let s=0;s<100;++s){if(t.layer++,t.mag=Math.log10(t.mag),!isFinite(t.mag))return t.sign===0&&(t.sign=1),t.layer<0&&(t.layer=0),t.normalize();if(t.layer>=0)break}}for(;t.layer<0;)t.layer++,t.mag=Math.log10(t.mag);return t.sign===0&&(t.sign=1,t.mag===0&&t.layer>=1&&(t.layer-=1,t.mag=1)),t.normalize(),e!==0?t.layeradd(e,10):t}layeradd(e,t){const s=this.slog(t).toNumber()+e;return s>=0?g.tetrate(t,s):Number.isFinite(s)?s>=-1?g.log(g.tetrate(t,s+1),t):g.log(g.log(g.tetrate(t,s+2),t),t):g.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return u(At(this.toNumber()));if(this.layer===0)return u(At(this.sign*this.mag));if(this.layer===1)return Ut(this);if(this.layer===2)return Ut(this);if(this.layer>=3)return F(this.sign,this.layer-1,this.mag);throw"Unhandled behavior in lambertw()"}ssqrt(){if(this.sign==1&&this.layer>=3)return F(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,t=F(1,0,1)){t=u(t);const n=e;e=Math.trunc(e);const s=n-e;s!==0&&(t.eq(g.dOne)?(++e,t=new g(s)):this.eq(10)?t=t.layeradd10(s):t=t.layeradd(s,this));for(let i=0;i<e;++i){if(t=this.tetrate(t.toNumber()),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(i>10)return t}return t}sin(){return this.mag<0?this:this.layer===0?u(Math.sin(this.sign*this.mag)):F(0,0,0)}cos(){return this.mag<0?g.dOne:this.layer===0?u(Math.cos(this.sign*this.mag)):F(0,0,0)}tan(){return this.mag<0?this:this.layer===0?u(Math.tan(this.sign*this.mag)):F(0,0,0)}asin(){return this.mag<0?this:this.layer===0?u(Math.asin(this.sign*this.mag)):F(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?u(Math.acos(this.toNumber())):this.layer===0?u(Math.acos(this.sign*this.mag)):F(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?u(Math.atan(this.sign*this.mag)):u(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return g.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return g.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?F(Number.NaN,Number.NaN,Number.NaN):g.ln(this.add(1).div(u(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(g.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let m=g;m.dZero=F(0,0,0);m.dOne=F(1,0,1);m.dNegOne=F(-1,0,1);m.dTwo=F(1,0,2);m.dTen=F(1,0,10);m.dNaN=F(Number.NaN,Number.NaN,Number.NaN);m.dInf=F(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);m.dNegInf=F(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);m.dNumberMax=x(1,0,Number.MAX_VALUE);m.dNumberMin=x(1,0,Number.MIN_VALUE);const gs=new m(1);function Ge(e,t,n=!0){let s=m.log10(e).floor(),i=m.div(e,m.pow(10,s));i.toStringWithDecimalPlaces(t)==="10"&&(i=gs,s=s.add(1));const r=s.gte(1e9)?ae(s,Math.max(Math.max(t,3),B.defaultDecimalsShown)):s.gte(1e4)?rt(s,0):s.toStringWithDecimalPlaces(0);return n?i.toStringWithDecimalPlaces(t)+"e"+r:"e"+r}function rt(e,t){if(e==null)return"NaN";if(e=new m(e),e.mag<.001)return 0 .toFixed(t);const s=e.toStringWithDecimalPlaces(t).split(".");return s[0]=s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),s.length==1?s[0]:s[0]+"."+s[1]}function Zt(e,t){return e==null?"NaN":(e=new m(e),e.mag<1e-4?0 .toFixed(t):(e.mag<.1&&t!==0&&(t=Math.max(Math.max(t,e.log10().negate().ceil().toNumber()),B.defaultDecimalsShown)),e.toStringWithDecimalPlaces(t)))}const ps=new m("eeee1000"),vs=new m("e100000"),Gt=new m("e1000"),Jt=new m(1e9),ys=new m(1e6),_s=new m(1e3),bs=new m(.98),Ns=new m(.001),Xt=new m(0);function ae(e,t,n){if(t==null&&(t=B.defaultDecimalsShown),n=n!=null?n:B.defaultShowSmall,e=new m(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag))return"NaN";if(e.sign<0)return"-"+ae(e.neg(),t);if(e.mag===Number.POSITIVE_INFINITY)return"Infinity";if(e.gte(ps)){const s=e.slog();return s.gte(ys)?"F"+ae(s.floor()):m.pow(10,s.sub(s.floor())).toStringWithDecimalPlaces(3)+"F"+rt(s.floor(),0)}else{if(e.gte(vs))return Ge(e,0,!1);if(e.gte(Gt))return Ge(e,0);if(e.gte(Jt))return Ge(e,t);if(e.gte(_s))return rt(e,0);if(e.gte(Ns)||!n)return Zt(e,t);if(e.eq(Xt))return 0 .toFixed(t)}return e=en(e),e.lt(Gt)?Ge(e,t).replace(/([^(?:e|F)]*)$/,"-$1"):ae(e,t)+"\u207B\xB9"}function re(e){return e=new m(e),e.sign<0?"-"+re(e.neg()):e.gte(Jt)||e.lte(bs)&&!e.eq(Xt)?ae(e):ae(e,0)}function Qt(e){return m.lt(e,0)?"-"+Qt(m.neg(e)):m.gt(e,2**51)?ae(m.div(e,31536e3))+"y":(e=new m(e).toNumber(),e<60?ae(e)+"s":e<3600?re(Math.floor(e/60))+"m "+ae(e%60)+"s":e<86400?re(Math.floor(e/3600))+"h "+re(Math.floor(e/60)%60)+"m "+re(e%60)+"s":e<31536e3?re(Math.floor(e/84600)%365)+"d "+re(Math.floor(e/3600)%24)+"h "+re(Math.floor(e/60)%60)+"m":re(Math.floor(e/31536e3))+"y "+re(Math.floor(e/84600)%365)+"d "+re(Math.floor(e/3600)%24)+"h")}function ks(e,t,n){e=new m(e);let s=e.toStringWithDecimalPlaces(t);return new m(s).gte(n)&&(s=m.sub(n,Math.pow(.1,t)).toStringWithDecimalPlaces(t)),s}function ws(e,t){return ae(e,t,!0)}function en(e){let t=m.log10(e).ceil();const n=m.div(e,m.pow(10,t));return t=t.neg(),e=new m(10).pow(t).times(n),e}var Ss=Object.freeze(Object.defineProperty({__proto__:null,default:m,exponentialFormat:Ge,commaFormat:rt,regularFormat:Zt,format:ae,formatWhole:re,formatTime:Qt,toPlaces:ks,formatSmall:ws,invertOOM:en},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:Ms,commaFormat:$s,regularFormat:Cs,format:he,formatWhole:qe,formatTime:mt,toPlaces:Is,formatSmall:Ts,invertOOM:Ps}=Ss;window.Decimal=m;window.exponentialFormat=Ms;window.commaFormat=$s;window.regularFormat=Cs;window.format=he;window.formatWhole=qe;window.formatTime=mt;window.toPlaces=Is;window.formatSmall=Ts;window.invertOOM=Ps;function xs(e){let t=e.replace(/([A-Z])/g," $1");return t=t.charAt(0).toUpperCase()+t.slice(1),t}function bt(e){return typeof e=="function"}var W=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(W||{});const ze=Symbol("DoNotCache");function P(e,t){const n=e[t];bt(n)&&n.length===0&&!n[ze]?e[t]=$(n.bind(e)):bt(n)&&(e[t]=n.bind(e),e[t][ze]=!0)}function Nt(e){return bt(e)&&!e[ze]&&(e=$(e)),e}const Se=Symbol("Component"),Me=Symbol("GatherProps");let Os=0;function ht(e="feature-"){return e+Os++}var Be=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(Be||{});function Z(e){return e[ze]=!0,e}function X(e,t,n){e[t]===void 0&&n!=null&&(e[t]=n)}function tn(e,...t){const n=[],s=i=>{Object.keys(i).forEach(r=>{const l=i[r];l!=null&&typeof l=="object"&&(t.includes(l.type)?n.push(l):!(l instanceof m)&&!z(l)&&s(l))})};return s(e),n}const Te={variables:{"--foreground":"#dfdfdf","--background":"#0f0f0f","--feature-foreground":"#0f0f0f","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#0f0f0f","--points":"#ffffff","--locked":"#bf8f8f","--highlighted":"#333","--bought":"#77bf5f","--danger":"rgb(220, 53, 69)","--link":"#02f2f2","--outline":"#dfdfdf","--accent1":"#627a82","--accent2":"#658262","--accent3":"#7c6282","--border-radius":"15px","--modal-border":"solid 2px var(--color)","--feature-margin":"0px"},floatingTabs:!0,mergeAdjacent:!0,showPin:!0};var Mt=(e=>(e.Classic="classic",e.Paper="paper",e.Nordic="nordic",e.Aqua="aqua",e))(Mt||{}),$t={classic:Te,paper:{...Te,variables:{...Te.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--locked":"#3a3e45","--bought":"#5C8A58","--outline":"#333c4a","--border-radius":"4px","--modal-border":"","--feature-margin":"5px"},floatingTabs:!1},nordic:{...Te,variables:{...Te.variables,"--foreground":"#D8DEE9","--background":"#2E3440","--feature-foreground":"#000","--raised-background":"#3B4252","--points":"#E5E9F0","--locked":"#4c566a","--highlighted":"#434c5e","--bought":"#8FBCBB","--danger":"#D08770","--link":"#88C0D0","--outline":"#3B4252","--accent1":"#B48EAD","--accent2":"#A3BE8C","--accent3":"#EBCB8B","--border-radius":"4px","--modal-border":"solid 2px #3B4252","--feature-margin":"5px"},floatingTabs:!1},aqua:{...Te,variables:{...Te.variables,"--foreground":"#bfdfff","--background":"#001f3f","--tooltip-background":"rgba(0, 15, 31, 0.75)","--raised-background":"#001f3f","--points":"#dfefff","--locked":"#c4a7b3","--outline":"#bfdfff"}}};const Y=Kt();document.fonts.onloadingdone=()=>Y.emit("fontsLoaded");var Fs=Object.freeze(Object.defineProperty({__proto__:null,globalBus:Y},Symbol.toStringTag,{value:"Module"}));var A=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n};const Es=R({__name:"Context",emits:["updateNodes"],setup(e,{emit:t}){var b;const n=C({}),s=new ResizeObserver(a),i=C(null);dt(()=>{const v=i.value;v!=null&&s.observe(v)});let r=!0,l=C((b=i.value)==null?void 0:b.getBoundingClientRect());function a(){r&&(r=!1,Ce(()=>{var v;l.value=(v=i.value)==null?void 0:v.getBoundingClientRect(),Object.values(n.value).filter(p=>p).forEach(p=>p.rect=p.element.getBoundingClientRect()),t("updateNodes",n.value),r=!0}))}Y.on("fontsLoaded",a);const d={attributes:!1,childList:!0,subtree:!1};Qe(Ct,(v,p)=>{const _=new MutationObserver(()=>f(v));_.observe(p,d),n.value[v]={element:p,observer:_,rect:p.getBoundingClientRect()},a()}),Qe(It,v=>{var p;(p=n.value[v])==null||p.observer.disconnect(),n.value[v]=void 0,a()}),Qe(Tt,n),Qe(Pt,l);function f(v){const p=n.value[v];p!=null&&(p.rect=p.element.getBoundingClientRect(),t("updateNodes",n.value))}return(v,p)=>(h(),N(K,null,[ke(v.$slots,"default",{},void 0,!0),c("div",{ref_key:"resizeListener",ref:i,class:"resize-listener"},null,512)],64))}});var nn=A(Es,[["__scopeId","data-v-2b1dc1bc"]]);const Vs=["onPointerdown"],Rs={class:"modal-wrapper"},Ds={class:"modal-container"},Ls={class:"modal-header"},qs=E(" default header "),Bs={class:"modal-body"},As=E(" default body "),Us={class:"modal-footer"},Gs=c("div",{class:"modal-default-flex-grow"},null,-1),Oe=R({__name:"Modal",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const i=ne(e),r=$(()=>o(i.modelValue)||a.value);function l(){n("update:modelValue",!1)}const a=C(!1),d=C(null),f=$(()=>{var b,v;return(v=(b=d.value)==null?void 0:b.nodes)!=null?v:null});return t({isOpen:r,nodes:f}),(b,v)=>(h(),V(wn,{to:"#modal-root"},[y(St,{name:"modal",onBeforeEnter:v[0]||(v[0]=p=>a.value=!0),onAfterLeave:v[1]||(v[1]=p=>a.value=!1)},{default:O(()=>[wt(c("div",xe({class:"modal-mask",onPointerdown:je(l,["self"])},b.$attrs),[c("div",Rs,[c("div",Ds,[c("div",Ls,[ke(b.$slots,"header",{shown:o(r)},()=>[qs])]),c("div",Bs,[y(nn,{ref_key:"contextRef",ref:d},{default:O(()=>[ke(b.$slots,"body",{shown:o(r)},()=>[As])]),_:3},512)]),c("div",Us,[ke(b.$slots,"footer",{shown:o(r)},()=>[c("div",{class:"modal-default-footer"},[Gs,c("button",{class:"button modal-default-button",onClick:l}," Close ")])])])])])],16,Vs),[[kn,e.modelValue]])]),_:3})]))}}),Ct=Symbol("RegisterNode"),It=Symbol("UnregisterNode"),Tt=Symbol("Nodes"),Pt=Symbol("Bounds"),te=ft({});window.layers=te;const Re={},le=[];function xt(e,t){return Fe(()=>{const n={},s=n.emitter=Kt();if(n.on=s.on.bind(s),n.emit=s.emit.bind(s),n.nodes=C({}),n.id=e,le.push(e),Re[e]=new Set,n.minimized=Ye(!1),Object.assign(n,t.call(n)),le[le.length-1]==null||le[le.length-1]!==e)throw`Adding layers stack in invalid state. This should not happen
Stack: ${le}
Trying to pop ${n.id}`;return le.pop(),P(n,"color"),P(n,"display"),P(n,"name"),X(n,"name",n.id),P(n,"minWidth"),X(n,"minWidth",600),P(n,"minimizable"),X(n,"minimizable",!0),n})}function sn(e,t){if(console.info("Adding layer",e.id),te[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,te[e.id]);return}X(t,"layers",{}),t.layers[e.id]==null&&(t.layers[e.id]={}),te[e.id]=e,Y.emit("addLayer",e,t.layers[e.id])}function Hs(e){return te[e]}function rn(e){console.info("Removing layer",e.id),Y.emit("removeLayer",e),te[e.id]=void 0}function js(e){rn(e),sn(e,T)}function zs(e){const t=C(!1);return{openModal:()=>t.value=!0,modal:Z(()=>y(Oe,{modelValue:t.value,"onUpdate:modelValue":n=>t.value=n},{header:()=>y("h2",null,[o(e.name)]),body:o(e.display)}))}}Y.on("update",function(t){Object.values(te).forEach(n=>{n==null||n.emit("preUpdate",t)}),Object.values(te).forEach(n=>{n==null||n.emit("update",t)}),Object.values(te).forEach(n=>{n==null||n.emit("postUpdate",t)})});var Ws=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:Ct,UnregisterNodeInjectionKey:It,NodesInjectionKey:Tt,BoundsInjectionKey:Pt,layers:te,persistentRefs:Re,addingLayers:le,createLayer:xt,addLayer:sn,getLayer:Hs,removeLayer:rn,reloadLayer:js,setupLayerModal:zs},Symbol.toStringTag,{value:"Module"}));const Ot=Symbol("PersistentState"),$e=Symbol("DefaultValue"),at=Symbol("StackTrace"),kt=Symbol("Deleted"),ot=Symbol("NonPersistent"),He=Symbol("SaveDataPath");function Ks(){var e,t;return(t=(e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(n=>n.trim()).join(`
`))!=null?t:""}function Ye(e){const t=z(e)?e:C(e);t[Ot]=t,t[$e]=z(e)?e.value:e,t[at]=Ks(),t[kt]=!1;const n=$({get(){return t.value},set(s){t.value=s}});return n[$e]=t[$e],t[ot]=n,t[He]=void 0,le.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",t,`
Created at:
`+t[at]):Re[le[le.length-1]].add(t),t}function Ys(e){return e!=null&&typeof e=="object"&&Ot in e}Y.on("addLayer",(e,t)=>{const n=[],s=(i,r=[])=>{let l=!1;return Object.keys(i).forEach(a=>{let d=i[a];if(d!=null&&typeof d=="object")if(G in d&&(d=d[G]),Ys(d)){if(l=!0,d[kt]){console.warn("Deleted persistent ref present in returned object. Ignoring...",d,`
Created at:
`+d[at]);return}Re[e.id].delete(d);const f=[e.id,...r,a];d[He]!=null&&JSON.stringify(f)!==JSON.stringify(d[He])&&console.error(`Persistent ref is being saved to \`${f.join(".")}\` when it's already present at \`${d[He].join(".")}\`. This can cause unexpected behavior when loading saves between updates.`,d),d[He]=f;const b=r.reduce((p,_)=>(_ in p||(p[_]={}),p[_]),t),v=b[a];b[a]=d[Ot],Sn(b)?v!=null?b[a]=v:b[a]=d[$e]:v!=null?b[a].value=v:b[a].value=d[$e]}else!(d instanceof m)&&!z(d)&&!n.includes(d)&&(typeof d.type=="symbol"&&n.push(d),s(d,[...r,a])&&(Dt(d)&&!Dt(i)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",G in i?i[G]:i,a):l=!0))}),l};s(e[G]),Re[e.id].forEach(i=>{i[kt]||console.error(`Created persistent ref in ${e.id} without registering it to the layer! Make sure to include everything persistent in the returned object`,i,`
Created at:
`+i[at])}),Re[e.id].clear()});const G=Symbol("ProxyState"),Ve=Symbol("ProxyPath");function Fe(e,t={}){const n=t;let s=!1;function i(){return s||(Object.assign(n,e(n)),s=!0),n}return new Proxy(n,{get(r,l){if(l===G)return i();const a=i()[l];return a!=null&&typeof a=="object"&&ot in a?a[ot]:a},set(r,l,a){return i()[l]=a,!0},has(r,l){return l===G?!0:Reflect.has(i(),l)},ownKeys(){return Reflect.ownKeys(i())},getOwnPropertyDescriptor(r,l){return s||(Object.assign(n,e(n)),s=!0),Object.getOwnPropertyDescriptor(r,l)}})}var H=window.state=ft({lastTenTicks:[],hasNaN:!1,NaNPath:[]});const an=Ke({id:"",devSpeed:null,name:"",tabs:[],time:-1,autosave:!0,offlineProd:!0,offlineTime:null,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});function on(e){return JSON.stringify(e,(t,n)=>o(n))}const ln={get(e,t){var s;if(t===G||t===Ve)return e[t];const n=e[G][t];if(t!=="value"&&(Tn(n)||Array.isArray(n))){if(n!==((s=e[t])==null?void 0:s[G])){const i=[...e[Ve],t];e[t]=new Proxy({[G]:n,[Ve]:i},ln)}return e[t]}return n},set(e,t,n,s){if(!H.hasNaN&&(typeof n=="number"&&isNaN(n)||n instanceof m&&(isNaN(n.sign)||isNaN(n.layer)||isNaN(n.mag)))){const i=e[G][t];if(!(typeof i=="number"&&isNaN(i)||i instanceof m&&(isNaN(i.sign)||isNaN(i.layer)||isNaN(i.mag))))throw an.autosave=!1,H.hasNaN=!0,H.NaNPath=[...e[Ve],t],H.NaNReceiver=s,console.error("Attempted to set NaN value",[...e[Ve],t],e[G]),"Attempted to set NaN value. See above for details"}return e[G][t]=n,!0},ownKeys(e){return Reflect.ownKeys(e[G])},has(e,t){return Reflect.has(e[G],t)},getOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e[G],t)}};var T=window.player=new Proxy({[G]:an,[Ve]:["player"]},ln);function un(e={}){return Object.assign({id:`${B.id}-0`,name:"Default Save",tabs:B.initialTabs.slice(),time:Date.now(),autosave:!0,offlineProd:!0,offlineTime:0,timePlayed:0,keepGoing:!1,modID:B.id,modVersion:B.versionNumber,layers:{}},e)}function ue(e){const t=Ne.compressToUTF16(on(e!=null?e:T[G]));return localStorage.setItem((e!=null?e:T[G]).id,t),t}async function Zs(){Xs();try{let e=localStorage.getItem(Q.active);if(e==null){await Pe(De());return}if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Ne.decompressFromUTF16(e);else throw"Unable to determine save encoding";const t=JSON.parse(e);if(t.modID!==B.id){await Pe(De());return}t.id=Q.active,await Pe(t)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await Pe(De())}}function De(){const e=tt(),t=un({id:e});return ue(t),Q.saves.push(e),t}function tt(){let e,t=0;do e=`${B.id}-${t++}`;while(localStorage.getItem(e)!=null);return e}const Ft=C(!1);async function Pe(e){console.info("Loading save",e),Ft.value=!0;const{layers:t,removeLayer:n,addLayer:s}=await it(()=>Promise.resolve().then(function(){return Ws}),void 0),{fixOldSave:i,getInitialLayers:r}=await it(()=>Promise.resolve().then(function(){return so}),void 0);for(const l in t){const a=t[l];a&&n(a)}r(e).forEach(l=>s(l,e)),e=un(e),e.offlineProd&&e.time!=null&&e.time&&e.devSpeed!==0&&(e.offlineTime==null&&(e.offlineTime=0),e.offlineTime+=Math.min(e.offlineTime+(Date.now()-e.time)/1e3,B.offlineLimit*3600)),e.time=Date.now(),e.modVersion!==B.versionNumber&&(i(e.modVersion,e),e.modVersion=B.versionNumber),Object.assign(T,e),Q.active=T.id,Y.emit("onLoad")}setInterval(()=>{T.autosave&&ue()},1e3);window.onbeforeunload=()=>{T.autosave&&ue()};window.save=ue;const Js=window.hardReset=async()=>{await Pe(De())},We=Ke({active:"",saves:[],showTPS:!0,theme:Mt.Nordic,unthrottled:!1});fe(We,e=>{const t=Ne.compressToUTF16(JSON.stringify(e));localStorage.setItem(B.id,t)},{deep:!0});var Q=window.settings=We;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:Mt.Nordic};Y.emit("loadSettings",e),Object.assign(We,e),Js()};function Xs(){try{let e=localStorage.getItem(B.id);if(e!=null&&e!==""){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=Ne.decompressFromUTF16(e);else{console.warn("Unable to determine settings encoding",e);return}const t=JSON.parse(e);typeof t=="object"&&Object.assign(We,t)}Y.emit("loadSettings",We)}catch{}}const Qs=Ke([]),cn=Ke([]);function ei(e){cn.push(e)}const ti=Ke([]);function ee(e,t="span"){return typeof e=="function"?R({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${t}>${e}</${t}>`),R({template:e})):R({render:()=>({})}):e}function Ze(e){if(gt(e))return typeof e=="function"?e():ee(e);const t=e[Se];return y(t,e[Me](),null)}function nt(e){if(gt(e))return typeof e=="function"?e():typeof e=="string"?y(K,null,[e]):y(e,null,null);const t=e[Se];return y(t,e[Me](),null)}function gt(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[ze]===!0}function dn(e,t){const n=C(null),s=C(void 0);function i(a){n.value||(n.value=setInterval(l,250)),s.value=a}function r(){n.value&&(clearInterval(n.value),n.value=null)}function l(){t&&t.value?t.value():e&&e.value&&e.value(s.value)}return zt(r),{start:i,stop:r,handleHolding:l}}function ni(e,t="div"){const n=ce();return we(()=>{n.value=ee(de(e),t)}),n}function Je(e,t="div"){const n=ce(null);return we(()=>{const s=de(e);n.value=s==""||s==null?null:ee(s,t)}),n}function si(e){return $(()=>de(e))}function de(e){return o(o(e))}function q(...e){return e.includes(Object)||e.push(Object),e}const ii=R({components:{Context:nn},props:{index:{type:Number,required:!0},tab:{type:Function,required:!0},display:{type:q(Object,String,Function),required:!0},minimized:{type:Object,required:!0},minWidth:{type:q(Number,String),required:!0},name:{type:q(String),required:!0},color:q(String),minimizable:q(Boolean),nodes:{type:Object,required:!0}},setup(e){const{display:t,index:n,minimized:s,minWidth:i,tab:r}=ne(e),l=ni(t),a=$(()=>B.allowGoBack&&n.value>0&&!s.value);function d(){T.tabs.splice(o(e.index),1/0)}Ce(()=>b(s.value,o(i.value))),fe([s,si(i)],([v,p])=>b(v,p));function f(v){e.nodes.value=v}function b(v,p){const _=typeof p=="number"||Number.isNaN(parseInt(p))?p+"px":p,S=r.value();S!=null&&(v?(S.style.flexGrow="0",S.style.flexShrink="0",S.style.width="60px",S.style.minWidth=S.style.flexBasis="",S.style.margin="0"):(S.style.flexGrow="",S.style.flexShrink="",S.style.width="",S.style.minWidth=S.style.flexBasis=_,S.style.margin=""))}return{component:l,showGoBack:a,updateNodes:f,unref:o,goBack:d}}});function ri(e,t,n,s,i,r){const l=Le("Context");return h(),N("div",{class:"layer-container",style:oe({"--layer-color":e.unref(e.color)})},[e.showGoBack?(h(),N("button",{key:0,class:"goBack",onClick:t[0]||(t[0]=(...a)=>e.goBack&&e.goBack(...a))},"\u2190")):I("",!0),e.minimized.value?(h(),N("button",{key:1,class:"layer-tab minimized",onClick:t[1]||(t[1]=a=>e.minimized.value=!1)},[c("div",null,D(e.unref(e.name)),1)])):(h(),N("div",{key:2,class:se(["layer-tab",{showGoBack:e.showGoBack}])},[y(l,{onUpdateNodes:e.updateNodes},{default:O(()=>[(h(),V(J(e.component)))]),_:1},8,["onUpdateNodes"])],2)),e.unref(e.minimizable)?(h(),N("button",{key:3,class:"minimize",onClick:t[2]||(t[2]=a=>e.minimized.value=!0)}," \u25BC ")):I("",!0)],4)}var ai=A(ii,[["render",ri],["__scopeId","data-v-34c9d881"]]);const fn=e=>(ge("data-v-4b4bda40"),e=e(),pe(),e),oi=fn(()=>c("h2",null,"Changelog",-1)),li=fn(()=>c("details",{open:""},[c("summary",null,[E("v0.0 Initial Commit - "),c("time",null,"2021-09-04")]),E(" This is the first release :D "),c("ul",null,[c("li",{class:"feature"},"Did everything"),c("li",{class:"fix"},"Had some fun"),c("li",{class:"breaking"},"Removed everything"),c("li",{class:"balancing"},"Created some bugs to fix later")])],-1)),ui=R({__name:"Changelog",setup(e,{expose:t}){const n=C(!1);return t({open(){n.value=!0}}),(s,i)=>(h(),V(Oe,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r)},{header:O(()=>[oi]),body:O(()=>[li]),_:1},8,["modelValue"]))}});var ci=A(ui,[["__scopeId","data-v-4b4bda40"]]),di=R({props:{element:Object,display:{type:q(Object,String,Function),required:!0},style:q(Object,String,Array),classes:q(Object),direction:q(String),xoffset:q(String),yoffset:q(String),pinned:Object},setup(e){const{element:t,display:n,pinned:s}=ne(e),i=C(!1),r=$(()=>(de(s)||i.value)&&l.value),l=Je(n),a=ce(ee(Z(()=>{const b=de(t);return b==null?"":nt(b)})));function d(b){const v=s;b.shiftKey&&v&&(v.value=!v.value,b.stopPropagation(),b.preventDefault())}const f=$(()=>de(s)&&$t[Q.theme].showPin);return{Direction:W,isHovered:i,isShown:r,comp:l,elementComp:a,unref:o,togglePinned:d,showPin:f}}});const fi={key:0,class:"material-icons pinned"};function mi(e,t,n,s,i,r){return h(),N("div",{class:se(["tooltip-container",{shown:e.isShown}]),onMouseenter:t[0]||(t[0]=l=>e.isHovered=!0),onMouseleave:t[1]||(t[1]=l=>e.isHovered=!1),onClickCapture:t[2]||(t[2]=(...l)=>e.togglePinned&&e.togglePinned(...l))},[ke(e.$slots,"default",{},void 0,!0),e.elementComp?(h(),V(J(e.elementComp),{key:0})):I("",!0),y(St,{name:"fade"},{default:O(()=>{var l;return[e.isShown?(h(),N("div",{key:0,class:se(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:oe([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(l=e.unref(e.style))!=null?l:{}])},[e.showPin?(h(),N("span",fi,"push_pin")):I("",!0),e.comp?(h(),V(J(e.comp),{key:1})):I("",!0)],6)):I("",!0)]}),_:1})],34)}var j=A(di,[["render",mi],["__scopeId","data-v-6102fa3a"]]);const Ee=e=>(ge("data-v-5d3cb6f4"),e=e(),pe(),e),hi={class:"info-modal-header"},gi=["src","alt"],pi={class:"info-modal-title"},vi={key:0},yi={key:0},_i={key:0},bi=Ee(()=>c("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),Ni=Ee(()=>c("br",null,null,-1)),ki=Ee(()=>c("br",null,null,-1)),wi=["href"],Si=Ee(()=>c("span",{class:"material-icons info-modal-discord"},"discord",-1)),Mi=Ee(()=>c("div",null,[c("a",{href:"https://discord.gg/WzejVAx",class:"info-modal-discord-link",target:"_blank"},[c("span",{class:"material-icons info-modal-discord"},"discord"),E(" The Paper Pilot Community ")])],-1)),$i=Ee(()=>c("div",null,[c("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link",target:"_blank"},[c("span",{class:"material-icons info-modal-discord"},"discord"),E(" The Modding Tree ")])],-1)),Ci=Ee(()=>c("br",null,null,-1));var Ii=R({__name:"Info",props:{changelog:null},setup(e,{expose:t}){const n=e,{title:s,logo:i,author:r,discordName:l,discordLink:a,versionNumber:d,versionTitle:f}=B,b=ne(n),v=C(!1),p=$(()=>mt(T.timePlayed)),_=$(()=>ee(Z(()=>y(K,null,[cn.map(Ze)]))));t({open(){v.value=!0}});function S(){var k;(k=o(b.changelog))==null||k.open()}return(k,L)=>(h(),V(Oe,{modelValue:v.value,"onUpdate:modelValue":L[0]||(L[0]=Ae=>v.value=Ae)},{header:O(()=>[c("div",hi,[o(i)?(h(),N("img",{key:0,class:"info-modal-logo",src:o(i),alt:o(s)},null,8,gi)):I("",!0),c("div",pi,[c("h2",null,D(o(s)),1),c("h4",null,[E(" v"+D(o(d)),1),o(f)?(h(),N("span",vi,": "+D(o(f)),1)):I("",!0)])])])]),body:O(({shown:Ae})=>[Ae?(h(),N("div",yi,[o(r)?(h(),N("div",_i,"By "+D(o(r)),1)):I("",!0),bi,Ni,c("div",{class:"link",onClick:S},"Changelog"),ki,c("div",null,[o(a)?(h(),N("a",{key:0,href:o(a),class:"info-modal-discord-link",target:"_blank"},[Si,E(" "+D(o(l)),1)],8,wi)):I("",!0)]),Mi,$i,Ci,c("div",null,"Time Played: "+D(o(p)),1),(h(),V(J(o(_))))])):I("",!0)]),_:1},8,["modelValue"]))}});var Ti=A(Ii,[["__scopeId","data-v-5d3cb6f4"]]);const Pi={class:"field"},xi={key:0,class:"field-title"},mn=R({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){var l;const n=e,s=Je(me(n,"title"),"span"),i=C((l=n.options.find(a=>a.value===n.modelValue))!=null?l:null);fe(me(n,"modelValue"),a=>{var d;de(i)!==a&&(i.value=(d=n.options.find(f=>f.value===a))!=null?d:null)});function r(a){t("update:modelValue",a.value)}return(a,d)=>(h(),N("div",Pi,[o(s)?(h(),N("span",xi,[(h(),V(J(o(s))))])):I("",!0),y(o(Pn),{options:e.options,modelValue:i.value,"onUpdate:modelValue":[d[0]||(d[0]=f=>i.value=f),r],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});const Oi={class:"field"},Fi=R({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,s=$(()=>{var r;return ee((r=o(n.title))!=null?r:"<span></span>","span")}),i=$({get(){return!!n.modelValue},set(r){t("update:modelValue",r)}});return(r,l)=>(h(),N("label",Oi,[wt(c("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":l[0]||(l[0]=a=>z(i)?i.value=a:null)},null,512),[[Mn,o(i)]]),(h(),V(J(o(s))))]))}});var be=A(Fi,[["__scopeId","data-v-57403de0"]]);const hn=e=>(ge("data-v-cd198342"),e=e(),pe(),e),Ei=hn(()=>c("div",{class:"header"},[c("h2",null,"Options")],-1)),Vi=hn(()=>c("hr",null,null,-1));var Ri=R({__name:"Options",setup(e,{expose:t}){const n=C(!1);t({open(){n.value=!0}});const s=Object.keys($t).map(S=>({label:xs(S),value:S})),i=$(()=>ee(Z(()=>y(K,null,[Qs.map(Ze)])))),{showTPS:r,theme:l,unthrottled:a}=ne(Q),{autosave:d,offlineProd:f}=ne(T),b=$({get(){return T.devSpeed===0},set(S){T.devSpeed=S?0:null}}),v=Z(()=>y("span",null,[E("Offline Production"),y(j,{display:"Save-specific"},{default:()=>[E("*")]})])),p=Z(()=>y("span",null,[E("Autosave"),y(j,{display:"Save-specific"},{default:()=>[E("*")]})])),_=Z(()=>y("span",null,[E("Pause game"),y(j,{display:"Save-specific"},{default:()=>[E("*")]})]));return(S,k)=>(h(),V(Oe,{modelValue:n.value,"onUpdate:modelValue":k[6]||(k[6]=L=>n.value=L)},{header:O(()=>[Ei]),body:O(()=>[y(mn,{title:"Theme",options:o(s),modelValue:o(l),"onUpdate:modelValue":k[0]||(k[0]=L=>z(l)?l.value=L:null)},null,8,["options","modelValue"]),(h(),V(J(o(i)))),y(be,{title:"Show TPS",modelValue:o(r),"onUpdate:modelValue":k[1]||(k[1]=L=>z(r)?r.value=L:null)},null,8,["modelValue"]),Vi,y(be,{title:"Unthrottled",modelValue:o(a),"onUpdate:modelValue":k[2]||(k[2]=L=>z(a)?a.value=L:null)},null,8,["modelValue"]),y(be,{title:o(v),modelValue:o(f),"onUpdate:modelValue":k[3]||(k[3]=L=>z(f)?f.value=L:null)},null,8,["title","modelValue"]),y(be,{title:o(p),modelValue:o(d),"onUpdate:modelValue":k[4]||(k[4]=L=>z(d)?d.value=L:null)},null,8,["title","modelValue"]),o(B).enablePausing?(h(),V(be,{key:0,title:o(_),modelValue:o(b),"onUpdate:modelValue":k[5]||(k[5]=L=>z(b)?b.value=L:null)},null,8,["title","modelValue"])):I("",!0)]),_:1},8,["modelValue"]))}});var Di=A(Ri,[["__scopeId","data-v-cd198342"]]);const Li=["onSubmit"],qi={class:"field"},Bi={key:0,class:"field-title"},Ai=["placeholder"],Ui=R({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null,submitOnBlur:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(e,{emit:t}){const n=e,s=Je(me(n,"title"),"span"),i=ce(null);dt(()=>{var d;(d=i.value)==null||d.focus()});const r=$({get(){var d;return(d=o(n.modelValue))!=null?d:""},set(d){t("update:modelValue",d)}});function l(){t("submit")}function a(){n.submitOnBlur!==!1?t("submit"):t("cancel")}return(d,f)=>(h(),N("form",{onSubmit:je(l,["prevent"])},[c("div",qi,[o(s)?(h(),N("span",Bi,[(h(),V(J(o(s))))])):I("",!0),e.textArea?(h(),V(o(On),{key:1,modelValue:o(r),"onUpdate:modelValue":f[0]||(f[0]=b=>z(r)?r.value=b:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:a,ref_key:"field",ref:i},null,8,["modelValue","placeholder","maxHeight"])):wt((h(),N("input",{key:2,type:"text","onUpdate:modelValue":f[1]||(f[1]=b=>z(r)?r.value=b:null),placeholder:e.placeholder,class:se({fullWidth:!e.title}),onBlur:a,ref_key:"field",ref:i},null,42,Ai)),[[$n,o(r)]])])],40,Li))}});var gn=A(Ui,[["__scopeId","data-v-90bd4994"]]);const Gi={key:0},Hi=["onClick","disabled"],ji={key:0},zi=["onClick"],Wi=R({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:t}){const s=ne(e),i=C(!1);fe(i,a=>{t("confirmingChanged",a)});function r(){if(o(s.skipConfirm)){t("click");return}i.value&&t("click"),i.value=!i.value}function l(){i.value=!1}return(a,d)=>(h(),N("span",{class:se(["container",{confirming:i.value}])},[i.value?(h(),N("span",Gi,"Are you sure?")):I("",!0),c("button",{onClick:je(r,["stop"]),class:"button danger",disabled:e.disabled},[i.value?(h(),N("span",ji,"Yes")):ke(a.$slots,"default",{key:1},void 0,!0)],8,Hi),i.value?(h(),N("button",{key:1,class:"button",onClick:je(l,["stop"])},"No",8,zi)):I("",!0)],2))}});var Ki=A(Wi,[["__scopeId","data-v-2f8ef34c"]]);const Yi=["onClick"],Zi=R({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=C(!1),s=C(null);function i(){t("click"),s.value&&clearTimeout(s.value),n.value=!1,Ce(()=>{n.value=!0,s.value=setTimeout(()=>n.value=!1,500)})}return(r,l)=>(h(),N("button",{onClick:je(i,["stop"]),class:se(["feedback",{activated:n.value,left:e.left}])},[ke(r.$slots,"default",{},void 0,!0)],10,Yi))}});var Ji=A(Zi,[["__scopeId","data-v-01a1b95c"]]);const ve=e=>(ge("data-v-c3447434"),e=e(),pe(),e),Xi=ve(()=>c("div",{class:"handle material-icons"},"drag_handle",-1)),Qi={key:0,class:"actions"},er=ve(()=>c("span",{class:"material-icons"},"content_paste",-1)),tr=ve(()=>c("span",{class:"material-icons"},"content_copy",-1)),nr=ve(()=>c("span",{class:"material-icons"},"edit",-1)),sr=ve(()=>c("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),ir={key:1,class:"actions"},rr=ve(()=>c("span",{class:"material-icons"},"check",-1)),ar=ve(()=>c("span",{class:"material-icons"},"close",-1)),or={key:2,class:"details"},lr={class:"save-version"},ur=ve(()=>c("br",null,null,-1)),cr={key:0},dr={key:3,class:"details"},fr={key:4,class:"details error"},mr=ve(()=>c("br",null,null,-1)),hr=R({__name:"Save",props:{save:null},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:t}){const n=e,{save:s}=ne(n),i=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),r=C(!1),l=C(!1),a=C("");fe(r,()=>{var v;return a.value=(v=s.value.name)!=null?v:""});const d=$(()=>s.value!=null&&s.value.id===T.id),f=$(()=>{var v;return d.value?T.time:(v=s.value!=null&&s.value.time)!=null?v:0});function b(){t("editName",a.value),r.value=!1}return(v,p)=>(h(),N("div",{class:se(["save",{active:o(d)}])},[Xi,r.value?(h(),N("div",ir,[c("button",{onClick:b,class:"button"},[y(j,{display:"Save",direction:o(W).Left,class:"info"},{default:O(()=>[rr]),_:1},8,["direction"])]),c("button",{onClick:p[5]||(p[5]=_=>r.value=!r.value),class:"button"},[y(j,{display:"Cancel",direction:o(W).Left,class:"info"},{default:O(()=>[ar]),_:1},8,["direction"])])])):(h(),N("div",Qi,[o(s).error==null&&!l.value?(h(),V(Ji,{key:0,onClick:p[0]||(p[0]=_=>t("export")),class:"button",left:""},{default:O(()=>[y(j,{display:"Export",direction:o(W).Left,class:"info"},{default:O(()=>[er]),_:1},8,["direction"])]),_:1})):I("",!0),o(s).error==null&&!l.value?(h(),N("button",{key:1,onClick:p[1]||(p[1]=_=>t("duplicate")),class:"button"},[y(j,{display:"Duplicate",direction:o(W).Left,class:"info"},{default:O(()=>[tr]),_:1},8,["direction"])])):I("",!0),o(s).error==null&&!l.value?(h(),N("button",{key:2,onClick:p[2]||(p[2]=_=>r.value=!r.value),class:"button"},[y(j,{display:"Edit Name",direction:o(W).Left,class:"info"},{default:O(()=>[nr]),_:1},8,["direction"])])):I("",!0),y(Ki,{disabled:o(d),onClick:p[3]||(p[3]=_=>t("delete")),onConfirmingChanged:p[4]||(p[4]=_=>l.value=_)},{default:O(()=>[y(j,{display:"Delete",direction:o(W).Left,class:"info"},{default:O(()=>[sr]),_:1},8,["direction"])]),_:1},8,["disabled"])])),o(s).error==null&&!r.value?(h(),N("div",or,[c("button",{class:"button open",onClick:p[6]||(p[6]=_=>t("open"))},[c("h3",null,D(o(s).name),1)]),c("span",lr,"v"+D(o(s).modVersion),1),ur,o(f)?(h(),N("div",cr,"Last played "+D(o(i).format(o(f))),1)):I("",!0)])):o(s).error==null&&r.value?(h(),N("div",dr,[y(gn,{modelValue:a.value,"onUpdate:modelValue":p[7]||(p[7]=_=>a.value=_),class:"editname",onSubmit:b},null,8,["modelValue"])])):(h(),N("div",fr,[E(" Error: Failed to load save with id "+D(o(s).id),1),mr,E(D(o(s).error),1)]))],2))}});var gr=A(hr,[["__scopeId","data-v-c3447434"]]);const Et=e=>(ge("data-v-5229ff3f"),e=e(),pe(),e),pr=Et(()=>c("h2",null,"Saves Manager",-1)),vr={class:"modal-footer"},yr={class:"field"},_r=Et(()=>c("span",{class:"field-title"},"Create Save",-1)),br={class:"field-buttons"},Nr={class:"footer"},kr=Et(()=>c("div",{style:{"flex-grow":"1"}},null,-1)),wr=R({__name:"SavesManager",setup(e,{expose:t}){const n=C(!1),s=C(null);t({open(){n.value=!0}});const i=C(!1),r=C(""),l=C(null);fe(r,w=>{w?Ce(()=>{try{if(w[0]!=="{")if(w[0]==="e")w=decodeURIComponent(escape(atob(w)));else if(w[0]==="\u1BE1")w=Ne.decompressFromUTF16(w);else{console.warn("Unable to determine preset encoding",w),i.value=!0;return}const M=JSON.parse(w);if(typeof M!="object"){i.value=!0;return}const U=tt();M.id=U,ue(M),r.value="",i.value=!1,Q.saves.push(U)}catch{i.value=!0}}):i.value=!1});let a={},d=C(Object.keys(a).reduce((w,M)=>(w.push({label:M.split("/").slice(-1)[0].slice(0,-4),value:a[M]}),w),[]));const f=ft({});function b(w){if(f[w]==null){let M=localStorage.getItem(w);if(M==null)f[w]={error:"Save doesn't exist in localStorage",id:w};else if(M==="dW5kZWZpbmVk")f[w]={error:"Save is undefined",id:w};else try{if(M[0]!=="{")if(M[0]==="e")M=decodeURIComponent(escape(atob(M)));else if(M[0]==="\u1BE1")M=Ne.decompressFromUTF16(M);else return console.warn("Unable to determine preset encoding",M),i.value=!0,f[w]={error:"Unable to determine preset encoding",id:w},f[w];f[w]={...JSON.parse(M),id:w}}catch(U){f[w]={error:U,id:w},console.warn(`SavesManager: Failed to load info about save with id ${w}:
${U}
${M}`)}}return f[w]}fe(n,w=>{w&&Object.keys(f).forEach(M=>delete f[M])});const v=$(()=>Q.saves.reduce((w,M)=>(w[M]=b(M),w),{}));function p(w){let M;switch(T.id===w?M=on(T[G]):M=JSON.stringify(v.value[w]),B.exportEncoding){default:console.warn(`Unknown save encoding: ${B.exportEncoding}. Defaulting to lz`);case"lz":M=Ne.compressToUTF16(M);break;case"base64":M=btoa(unescape(encodeURIComponent(M)));break;case"plain":break}const U=document.createElement("textarea");U.value=M,document.body.appendChild(U),U.select(),U.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(U)}function _(w){T.id===w&&ue();const M={...v.value[w],id:tt()};ue(M),Q.saves.push(M.id)}function S(w){Q.saves=Q.saves.filter(M=>M!==w),localStorage.removeItem(w),f[w]=void 0}function k(w){v.value[T.id].time=T.time,ue(),f[T.id]=void 0,Pe(v.value[w]),f[w]=void 0}function L(w){if(l.value=w,Ce(()=>{l.value=null}),w[0]!=="{")if(w[0]==="e")w=decodeURIComponent(escape(atob(w)));else if(w[0]==="\u1BE1")w=Ne.decompressFromUTF16(w);else{console.warn("Unable to determine preset encoding",w);return}const M=JSON.parse(w);M.id=tt(),ue(M),Q.saves.push(M.id),k(M.id)}function Ae(w,M){const U=v.value[w];U!=null&&(U.name=M,T.id===w?(T.name=M,ue()):(ue(U),f[w]=void 0))}return(w,M)=>(h(),V(Oe,{modelValue:n.value,"onUpdate:modelValue":M[4]||(M[4]=U=>n.value=U),ref_key:"modal",ref:s},{header:O(()=>[pr]),body:O(({shown:U})=>[U?(h(),V(o(xn),{key:0,list:o(Q).saves,handle:".handle",itemKey:ye=>ye},{item:O(({element:ye})=>[y(gr,{save:o(v)[ye],onOpen:Ue=>k(ye),onExport:Ue=>p(ye),onEditName:Ue=>Ae(ye,Ue),onDuplicate:Ue=>_(ye),onDelete:Ue=>S(ye)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):I("",!0)]),footer:O(()=>[c("div",vr,[y(gn,{modelValue:r.value,"onUpdate:modelValue":M[0]||(M[0]=U=>r.value=U),title:"Import Save",placeholder:"Paste your save here!",class:se({importingFailed:i.value})},null,8,["modelValue","class"]),c("div",yr,[_r,c("div",br,[c("button",{class:"button",onClick:M[1]||(M[1]=U=>k(o(De)().id))},"New Game"),Object.keys(o(d)).length>0?(h(),V(mn,{key:0,options:o(d),modelValue:l.value,"onUpdate:modelValue":M[2]||(M[2]=U=>L(U)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):I("",!0)])]),c("div",Nr,[kr,c("button",{class:"button modal-default-button",onClick:M[3]||(M[3]=U=>n.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var pn=A(wr,[["__scopeId","data-v-5229ff3f"]]);const ie=e=>(ge("data-v-4a3f8425"),e=e(),pe(),e),Sr=["src","alt"],Mr={key:1,class:"title"},$r=ie(()=>c("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),Cr={class:"discord"},Ir={class:"discord-links"},Tr={key:0},Pr=["href"],xr=ie(()=>c("li",null,[c("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),Or=ie(()=>c("li",null,[c("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),Fr={href:"https://forums.moddingtree.com/",target:"_blank"},Er=ie(()=>c("span",{class:"material-icons"},"forum",-1)),Vr=ie(()=>c("span",{class:"material-icons"},"info",-1)),Rr=ie(()=>c("span",{class:"material-icons"},"library_books",-1)),Dr=ie(()=>c("span",{class:"material-icons"},"settings",-1)),Lr=ie(()=>c("span",{class:"material-icons"},"library_books",-1)),qr=ie(()=>c("span",{class:"material-icons"},"settings",-1)),Br=ie(()=>c("span",{class:"material-icons"},"info",-1)),Ar={href:"https://forums.moddingtree.com/",target:"_blank"},Ur=ie(()=>c("span",{class:"material-icons"},"forum",-1)),Gr={class:"discord"},Hr={class:"discord-links"},jr={key:0},zr=["href"],Wr=ie(()=>c("li",null,[c("a",{href:"https://discord.gg/WzejVAx",target:"_blank"},"The Paper Pilot Community")],-1)),Kr=ie(()=>c("li",null,[c("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),Yr=R({__name:"Nav",setup(e){const t=C(null),n=C(null),s=C(null),i=C(null),{useHeader:r,banner:l,title:a,discordName:d,discordLink:f,versionNumber:b}=B;function v(){window.open(f,"mywindow")}return(p,_)=>(h(),N(K,null,[o(r)?(h(),N("div",xe({key:0,class:"nav"},p.$attrs),[o(l)?(h(),N("img",{key:0,src:o(l),class:"banner",alt:o(a)},null,8,Sr)):(h(),N("div",Mr,D(o(a)),1)),c("div",{onClick:_[0]||(_[0]=S=>{var k;return(k=i.value)==null?void 0:k.open()}),class:"version-container"},[y(j,{display:"Changelog",direction:o(W).Down,class:"version"},{default:O(()=>[c("span",null,"v"+D(o(b)),1)]),_:1},8,["direction"])]),$r,c("div",Cr,[c("span",{onClick:v,class:"material-icons"},"discord"),c("ul",Ir,[o(f)?(h(),N("li",Tr,[c("a",{href:o(f),target:"_blank"},D(o(d)),9,Pr)])):I("",!0),xr,Or])]),c("div",null,[c("a",Fr,[y(j,{display:"Forums",direction:o(W).Down,yoffset:"5px"},{default:O(()=>[Er]),_:1},8,["direction"])])]),c("div",{onClick:_[1]||(_[1]=S=>{var k;return(k=t.value)==null?void 0:k.open()})},[y(j,{display:"Info",direction:o(W).Down,class:"info"},{default:O(()=>[Vr]),_:1},8,["direction"])]),c("div",{onClick:_[2]||(_[2]=S=>{var k;return(k=n.value)==null?void 0:k.open()})},[y(j,{display:"Saves",direction:o(W).Down,xoffset:"-20px"},{default:O(()=>[Rr]),_:1},8,["direction"])]),c("div",{onClick:_[3]||(_[3]=S=>{var k;return(k=s.value)==null?void 0:k.open()})},[y(j,{display:"Options",direction:o(W).Down,xoffset:"-66px"},{default:O(()=>[Dr]),_:1},8,["direction"])])],16)):(h(),N("div",xe({key:1,class:"overlay-nav"},p.$attrs),[c("div",{onClick:_[4]||(_[4]=S=>{var k;return(k=i.value)==null?void 0:k.open()}),class:"version-container"},[y(j,{display:"Changelog",direction:o(W).Right,xoffset:"25%",class:"version"},{default:O(()=>[c("span",null,"v"+D(o(b)),1)]),_:1},8,["direction"])]),c("div",{onClick:_[5]||(_[5]=S=>{var k;return(k=n.value)==null?void 0:k.open()})},[y(j,{display:"Saves",direction:o(W).Right},{default:O(()=>[Lr]),_:1},8,["direction"])]),c("div",{onClick:_[6]||(_[6]=S=>{var k;return(k=s.value)==null?void 0:k.open()})},[y(j,{display:"Options",direction:o(W).Right},{default:O(()=>[qr]),_:1},8,["direction"])]),c("div",{onClick:_[7]||(_[7]=S=>{var k;return(k=t.value)==null?void 0:k.open()})},[y(j,{display:"Info",direction:o(W).Right},{default:O(()=>[Br]),_:1},8,["direction"])]),c("div",null,[c("a",Ar,[y(j,{display:"Forums",direction:o(W).Right,xoffset:"7px"},{default:O(()=>[Ur]),_:1},8,["direction"])])]),c("div",Gr,[c("span",{onClick:v,class:"material-icons"},"discord"),c("ul",Hr,[o(f)?(h(),N("li",jr,[c("a",{href:o(f),target:"_blank"},D(o(d)),9,zr)])):I("",!0),Wr,Kr])])],16)),y(Ti,{ref_key:"info",ref:t,changelog:i.value},null,8,["changelog"]),y(pn,{ref_key:"savesManager",ref:n},null,512),y(Di,{ref_key:"options",ref:s},null,512),y(ci,{ref_key:"changelog",ref:i},null,512)],64))}});var vn=A(Yr,[["__scopeId","data-v-4a3f8425"]]);const Zr={class:"inner-tab"},Jr=R({__name:"Game",setup(e){const t=me(T,"tabs"),n=$(()=>Object.keys(te)),s=B.useHeader;function i(r){const{display:l,minimized:a,minWidth:d,name:f,color:b,minimizable:v,nodes:p}=r;return{display:l,minimized:a,minWidth:d,name:f,color:b,minimizable:v,nodes:p}}return(r,l)=>(h(),N("div",{class:se(["tabs-container",{useHeader:o(s)}])},[(h(!0),N(K,null,Wt(o(t),(a,d)=>{var f,b;return h(),N("div",{key:d,class:se(["tab",o((f=o(te)[a])==null?void 0:f.classes)]),ref_for:!0,ref:`tab-${d}`,style:oe(o((b=o(te)[a])==null?void 0:b.style))},[d===0&&!o(s)?(h(),V(vn,{key:0})):I("",!0),c("div",Zr,[o(n).includes(a)?(h(),V(ai,xe({key:0},i(o(te)[a]),{index:d,tab:()=>{var v;return(v=r.$refs[`tab-${d}`])==null?void 0:v[0]}}),null,16,["index","tab"])):(h(),V(J(a),{key:1,index:d},null,8,["index"]))])],6)}),128))],2))}});var Xr=A(Jr,[["__scopeId","data-v-4cb9ce0f"]]);const Qr=R({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(t,n)=>(h(),N("div",{style:oe({width:e.width,height:e.height})},null,4))}});function yn(e,t="points",n=0,s=void 0){const i=z(e)?e:Ye(e);if(i.displayName=t,i.precision=n,i.small=s,!z(e)){const r=i[ot];r.displayName=t,r.precision=n,r.small=s}return i}function ea(e){const t=Ye(e.value);return fe(e,n=>{Ft.value||m.gt(n,t.value)&&(t.value=n)}),t}function ta(e){const t=Ye(e.value);return fe(e,(n,s)=>{Ft.value||m.gt(n,s)&&(t.value=m.add(t.value,m.sub(n,s)))}),t}const na=new m("10^^8"),sa=new m("1e100");function ia(e,t){const n=C(0),s=C(0),i=C(0);return Y.on("update",l=>{if(s.value=0,m.lte(e.value,sa)){i.value=e.value;return}let a=e.value,d=i.value;if(i.value=a,m.gt(a,d))if(m.gte(a,na))a=m.slog(a,1e10),d=m.slog(d,1e10),n.value=a.sub(d).div(l),s.value=-1;else for(;m.div(a,d).log(10).div(l).gte("100")&&s.value<=5&&m.gt(d,0);)a=m.log10(a),d=m.log10(d),n.value=a.sub(d).div(l),s.value++}),$(()=>s.value===0?t?he(t.value,e.precision,e.small)+" "+e.displayName+"/s":"":he(n.value)+" OOM"+(s.value<0?"^OOM":"^"+s.value)+"s/sec")}function lt(e,t){const n=t!=null?t:e.value;return m.eq(e.precision,0)?qe(e.small?n:m.floor(n)):he(n,e.precision,e.small)}const ra=["x1","y1","x2","y2"],aa=R({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const n=ne(e),s=$(()=>{const r=n.startNode.value.rect,l=n.boundingRect.value,a=l?{x:r.x+r.width/2-l.x,y:r.y+r.height/2-l.y}:{x:0,y:0};return n.link.value.offsetStart&&(a.x+=n.link.value.offsetStart.x,a.y+=n.link.value.offsetStart.y),a}),i=$(()=>{const r=n.endNode.value.rect,l=n.boundingRect.value,a=l?{x:r.x+r.width/2-l.x,y:r.y+r.height/2-l.y}:{x:0,y:0};return n.link.value.offsetEnd&&(a.x+=n.link.value.offsetEnd.x,a.y+=n.link.value.offsetEnd.y),a});return(r,l)=>(h(),N("line",xe({"stroke-width":"15px",stroke:"white"},e.link,{x1:o(s).x,y1:o(s).y,x2:o(i).x,y2:o(i).y}),null,16,ra))}});const oa=R({__name:"Links",props:{links:null},setup(e){var d;const n=me(e,"links"),s=C(null),i=st(Tt,C({})),r=st(Pt,C(void 0)),l=C((d=s.value)==null?void 0:d.getBoundingClientRect());fe(r,()=>{var f;return l.value=(f=s.value)==null?void 0:f.getBoundingClientRect()}),dt(()=>{var f;return l.value=(f=s.value)==null?void 0:f.getBoundingClientRect()});const a=$(()=>{var b,v;const f=i.value;return(v=(b=n.value)==null?void 0:b.filter(p=>{var _,S;return((_=f[p.startNode.id])==null?void 0:_.rect)&&((S=f[p.startNode.id])==null?void 0:S.rect)}))!=null?v:[]});return(f,b)=>(h(),N(K,null,[o(a)?(h(),N("svg",Cn(xe({key:0},f.$attrs)),[(h(!0),N(K,null,Wt(o(a),(v,p)=>(h(),V(aa,{key:p,link:v,boundingRect:l.value,startNode:o(i)[v.startNode.id],endNode:o(i)[v.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):I("",!0),c("div",{ref_key:"resizeListener",ref:s,class:"resize-listener"},null,512)],64))}});var la=A(oa,[["__scopeId","data-v-063f6d6b"]]),ua=R({props:{nodes:{type:q(Array),required:!0},leftSideNodes:q(Array),rightSideNodes:q(Array),branches:q(Array)},components:{Links:la},setup(e){const{nodes:t,leftSideNodes:n,rightSideNodes:s}=ne(e),i=ce();we(()=>{const a=de(t);i.value=ee(Z(()=>y(K,null,[a.map(d=>y("span",{class:"row tree-row",style:"margin: 50px auto;"},[d.map(nt)]))])))});const r=ce();we(()=>{const a=de(n);r.value=a?ee(Z(()=>y("span",{class:"left-side-nodes small"},[a.map(nt)]))):""});const l=ce();return we(()=>{const a=de(s);l.value=a?ee(Z(()=>y("span",{class:"side-nodes small"},[a.map(nt)]))):""}),{unref:o,nodesComp:i,leftNodesComp:r,rightNodesComp:l}}});function ca(e,t,n,s,i,r){const l=Le("Links");return h(),N(K,null,[(h(),V(J(e.nodesComp))),e.leftNodesComp?(h(),V(J(e.leftNodesComp),{key:0})):I("",!0),e.rightNodesComp?(h(),V(J(e.rightNodesComp),{key:1})):I("",!0),e.branches?(h(),V(l,{key:2,links:e.unref(e.branches)},null,8,["links"])):I("",!0)],64)}var da=A(ua,[["render",ca],["__scopeId","data-v-39ca96d0"]]);const fa={key:0},ma={key:0,class:"mark star"},ha=["src"],ga=R({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(t,n)=>e.mark?(h(),N("div",fa,[e.mark===!0?(h(),N("div",ma)):(h(),N("img",{key:1,class:"mark",src:e.mark},null,8,ha))])):I("",!0)}});var _n=A(ga,[["__scopeId","data-v-2207999f"]]);const pa=R({__name:"Node",props:{id:null},setup(e){const n=ne(e),s=st(Ct,()=>{}),i=st(It,()=>{}),r=ce(null),l=$(()=>r.value&&r.value.parentElement);return fe([l,n.id],([a,d],[f,b])=>{f&&i(o(b)),a&&s(d,a)}),zt(()=>i(o(n.id))),(a,d)=>(h(),N("div",{class:"node",ref_key:"node",ref:r},null,512))}});var bn=A(pa,[["__scopeId","data-v-a48cb382"]]);const va=R({props:{display:q(Object,String,Function),visibility:{type:q(Number),required:!0},style:q(String,Object,Array),classes:q(Object),onClick:Function,onHold:Function,color:q(String),glowColor:q(String),canClick:{type:q(Boolean),required:!0},mark:q(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:_n,Node:bn},setup(e){const{onClick:t,onHold:n,display:s}=ne(e),i=Je(s),{start:r,stop:l}=dn(t,n);return{start:r,stop:l,comp:i,unref:o,Visibility:Be,isCoercableComponent:gt}}});function ya(e,t,n,s,i,r){var d;const l=Le("MarkNode"),a=Le("Node");return e.unref(e.visibility)!==e.Visibility.None?(h(),N("div",{key:0,style:oe({visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0}),class:se({treeNode:!0,can:e.unref(e.canClick),...e.unref(e.classes)}),onClick:t[0]||(t[0]=(...f)=>e.onClick&&e.onClick(...f)),onMousedown:t[1]||(t[1]=(...f)=>e.start&&e.start(...f)),onMouseleave:t[2]||(t[2]=(...f)=>e.stop&&e.stop(...f)),onMouseup:t[3]||(t[3]=(...f)=>e.stop&&e.stop(...f)),onTouchstartPassive:t[4]||(t[4]=(...f)=>e.start&&e.start(...f)),onTouchendPassive:t[5]||(t[5]=(...f)=>e.stop&&e.stop(...f)),onTouchcancelPassive:t[6]||(t[6]=(...f)=>e.stop&&e.stop(...f))},[c("div",{style:oe([{backgroundColor:e.unref(e.color),boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${e.unref(e.glowColor)}`},(d=e.unref(e.style))!=null?d:[]])},[(h(),V(J(e.unref(e.comp))))],4),y(l,{mark:e.unref(e.mark)},null,8,["mark"]),y(a,{id:e.id},null,8,["id"])],38)):I("",!0)}var _a=A(va,[["render",ya],["__scopeId","data-v-1c0c107d"]]);const ba=Symbol("TreeNode"),Na=Symbol("Tree");function ka(e){return Fe(()=>{var n;const t=(n=e==null?void 0:e())!=null?n:{};if(t.id=ht("treeNode-"),t.type=ba,t[Se]=_a,P(t,"visibility"),X(t,"visibility",Be.Visible),P(t,"canClick"),X(t,"canClick",!0),P(t,"color"),P(t,"display"),P(t,"glowColor"),P(t,"classes"),P(t,"style"),P(t,"mark"),t.onClick){const s=t.onClick.bind(t);t.onClick=function(){o(t.canClick)!==!1&&s()}}if(t.onHold){const s=t.onHold.bind(t);t.onHold=function(){o(t.canClick)!==!1&&s()}}return t[Me]=function(){const{display:s,visibility:i,style:r,classes:l,onClick:a,onHold:d,color:f,glowColor:b,canClick:v,mark:p,id:_}=this;return{display:s,visibility:i,style:r,classes:l,onClick:a,onHold:d,color:f,glowColor:b,canClick:v,mark:p,id:_}},t})}function wa(e){return Fe(()=>{const t=e();return t.id=ht("tree-"),t.type=Na,t[Se]=da,t.isResetting=C(!1),t.resettingNode=ce(null),t.reset=function(n){var i,r;const s=t;s.isResetting.value=!0,s.resettingNode.value=n,(i=s.resetPropagation)==null||i.call(s,s,n),(r=s.onReset)==null||r.call(s,n),s.isResetting.value=!1,s.resettingNode.value=null},t.links=$(()=>{var s;return(s=o(t.branches))!=null?s:[]}),P(t,"visibility"),X(t,"visibility",Be.Visible),P(t,"nodes"),P(t,"leftSideNodes"),P(t,"rightSideNodes"),P(t,"branches"),t[Me]=function(){const{nodes:n,leftSideNodes:s,rightSideNodes:i,branches:r}=this;return{nodes:n,leftSideNodes:s,rightSideNodes:i,branches:r}},t})}const Sa=function(e,t){const n=[t];let s=[t];if(e.branches!=null){const i=o(e.branches);for(;s.length>0;){const r=[];s.forEach(l=>{i.filter(a=>a.startNode===l||a.endNode===l).map(a=>a.startNode===l?a.endNode:a.startNode).filter(a=>!n.includes(a)).forEach(a=>{var d;r.includes(a)||(r.push(a),(d=a.reset)==null||d.reset())})}),s=r,n.push(...s)}}};function Ma(e,t=null,n=0){const s=Nt(n);return $(()=>t==null||m.gte(e.value,o(s))?lt(e)+" "+e.displayName:`Reach ${m.eq(t.precision,0)?qe(o(s)):he(o(s),t.precision)} ${t.displayName} to unlock (You have ${m.eq(t.precision,0)?qe(t.value):he(t.value,t.precision)})`)}function $a(e){return Fe(()=>{const t=e();return t.currentGain==null&&(t.currentGain=$(()=>{let n=t.gainModifier?t.gainModifier.apply(t.scaling.currentGain(t)):t.scaling.currentGain(t);return n=m.floor(n).max(0),o(t.buyMax)===!1&&(n=n.min(1)),n})),t.actualGain==null&&(t.actualGain=t.currentGain),t.currentAt==null&&(t.currentAt=$(()=>{let n=t.scaling.currentAt(t);return o(t.roundUpCost)&&(n=m.ceil(n)),n})),t.nextAt==null&&(t.nextAt=$(()=>{let n=t.scaling.nextAt(t);return o(t.roundUpCost)&&(n=m.ceil(n)),n})),t.convert==null&&(t.convert=function(){var s;const n=o(t.currentGain);t.gainResource.value=m.add(t.gainResource.value,n),t.spend(n),(s=t.onConvert)==null||s.call(t,n)}),t.spend==null&&(t.spend=function(){t.baseResource.value=0}),P(t,"currentGain"),P(t,"actualGain"),P(t,"currentAt"),P(t,"nextAt"),P(t,"buyMax"),X(t,"buyMax",!0),P(t,"roundUpCost"),X(t,"roundUpCost",!0),t})}function Ca(e,t){const n=Nt(e),s=Nt(t);return{currentGain(i){let r=o(i.baseResource.value);if(i.costModifier&&(r=i.costModifier.apply(r)),m.lt(r,o(n)))return 0;const l=m.div(r,o(n)).pow(o(s));return l.isNan()?new m(0):l},currentAt(i){let r=o(i.currentGain);return i.gainModifier&&(r=i.gainModifier.revert(r)),r=m.max(0,r).root(o(s)).times(o(n)),i.costModifier&&(r=i.costModifier.revert(r)),r},nextAt(i){let r=m.add(o(i.currentGain),1).floor();return i.gainModifier&&(r=i.gainModifier.revert(r)),r=m.max(0,r).root(o(s)).times(o(n)).max(o(n)),i.costModifier&&(r=i.costModifier.revert(r)),r}}}function Ia(e){return $a(e)}const Nn=e=>(ge("data-v-5e2d38ce"),e=e(),pe(),e),Ta=Nn(()=>c("div",{class:"key"},"Ctrl",-1)),Pa=E("+"),xa=Nn(()=>c("div",{class:"key"},"Shift",-1)),Oa=E("+"),Fa={class:"key"},Ea=R({__name:"Hotkey",props:{hotkey:null},setup(e){const t=e;let n="",s=!1,i=!1,r=!1;return we(()=>{n=t.hotkey.key,s=n.startsWith("ctrl+"),s&&(n=n.slice(5)),i=n.startsWith("shift+"),i&&(n=n.slice(6)),r=n.length==1&&n.toLowerCase()!=n.toUpperCase(),r&&(n=n.toUpperCase())}),(l,a)=>(h(),N(K,null,[o(s)?(h(),N(K,{key:0},[Ta,Pa],64)):I("",!0),o(i)?(h(),N(K,{key:1},[xa,Oa],64)):I("",!0),c("div",Fa,D(o(n)),1)],64))}});var Va=A(Ea,[["__scopeId","data-v-5e2d38ce"]]);const pt=ft({}),Vt=Symbol("Hotkey"),Ht=[")","!","@","#","$","%","^","&","*","("];function Ra(e){return Fe(()=>{const t=e();return t.type=Vt,P(t,"enabled"),X(t,"enabled",!0),P(t,"description"),t})}Y.on("addLayer",e=>{tn(e,Vt).forEach(t=>{pt[t.key]=t})});Y.on("removeLayer",e=>{tn(e,Vt).forEach(t=>{pt[t.key]=void 0})});document.onkeydown=function(e){var s;if(((s=e.target)==null?void 0:s.tagName)==="INPUT"||Rt.value&&!T.keepGoing)return;let t=e.key;Ht.includes(t)?t="shift+"+Ht.indexOf(t):e.shiftKey&&(t="shift+"+t),e.ctrlKey&&(t="ctrl+"+t);const n=pt[t];n&&o(n.enabled)&&(e.preventDefault(),n.onPress())};ei(Z(()=>{const e=Object.values(pt).filter(t=>o(t==null?void 0:t.enabled));return e.length===0?"":y("div",null,[y("br",null,null),y("h4",null,[E("Hotkeys")]),y("div",{style:"column-count: 2"},[e.map(t=>y("div",null,[y(Va,{hotkey:t},null),E(" "),t==null?void 0:t.description]))])])}));const Da=Symbol("Reset");function La(e){return Fe(()=>{const t=e();return t.id=ht("reset-"),t.type=Da,t.reset=function(){var s;const n=i=>{if(i!=null&&typeof i=="object")if($e in i){const r=i;r.value=r[$e]}else!(i instanceof m)&&!z(i)&&Object.values(i).forEach(r=>n(r))};o(t.thingsToReset).forEach(n),Y.emit("reset",t),(s=t.onReset)==null||s.call(t)},P(t,"thingsToReset"),t})}const et={};Y.on("removeLayer",e=>{var t;(t=et[e.id])==null||t.call(et),et[e.id]=void 0});const qa=R({__name:"Sticky",setup(e){const t=C("0"),n=new ResizeObserver(i),s=ce(null);function i(){let r=s.value;if(r==null)return;let l=0;for(;r.previousSibling;){const a=r.previousSibling;a.dataset&&"vSticky"in a.dataset&&(l+=a.offsetHeight),r=a}t.value=l+"px"}return Ce(i),document.fonts.ready.then(i),dt(()=>{var l;const r=(l=s.value)==null?void 0:l.parentElement;r&&n.observe(r)}),(r,l)=>(h(),N("div",{class:"sticky",style:oe({top:t.value}),ref_key:"element",ref:s,"data-v-sticky":""},[ke(r.$slots,"default",{},void 0,!0)],4))}});var Ba=A(qa,[["__scopeId","data-v-cccac690"]]);const Aa=R({__name:"Resource",props:{resource:null,color:null},setup(e){const t=e,n=$(()=>lt(t.resource));return(s,i)=>(h(),N("h2",{style:oe({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},D(o(n)),5))}});const Ua={class:"main-display"},Ga={key:0},Ha={key:1},ja=E(", "),za=R({__name:"MainDisplay",props:{resource:null,color:null,classes:null,style:null,effectDisplay:null},setup(e){const n=ne(e),s=C(null),i=Je(n.effectDisplay),r=$(()=>m.lt(n.resource.value,"1e1000"));return(l,a)=>(h(),V(Ba,null,{default:O(()=>{var d,f,b,v;return[c("div",{class:se(["main-display-container",(d=e.classes)!=null?d:{}]),style:oe([{height:`${((b=(f=s.value)==null?void 0:f.$el.clientHeight)!=null?b:0)+50}px`},(v=e.style)!=null?v:{}])},[c("div",Ua,[o(r)?(h(),N("span",Ga,"You have ")):I("",!0),y(Aa,{resource:e.resource,color:e.color||"white"},null,8,["resource","color"]),E(" "+D(e.resource.displayName),1),o(i)?(h(),N("span",Ha,[ja,(h(),V(J(o(i)),{ref_key:"effectRef",ref:s},null,512))])):I("",!0)])],6)]}),_:1}))}});function Wa(e,t){return P(t,"display"),P(t,"classes"),P(t,"style"),P(t,"direction"),X(t,"direction",W.Up),P(t,"xoffset"),P(t,"yoffset"),t.pinnable&&("pinned"in e?(console.error("Cannot add pinnable tooltip to element that already has a property called 'pinned'"),t.pinnable=!1):e.pinned=t.pinned=Ye(!1)),Ce(()=>{const n=e[Se];e[Se]=j;const s=e[Me].bind(e);e[Me]=function(){const{display:r,classes:l,style:a,direction:d,xoffset:f,yoffset:b,pinned:v}=this;return{element:{[Se]:n,[Me]:s},display:r,classes:l,style:o(a),direction:d,xoffset:f,yoffset:b,pinned:v}}.bind(t)}),t}var Ka=R({props:{display:{type:q(Object,String,Function),required:!0},visibility:{type:q(Number),required:!0},style:q(Object,String,Array),classes:q(Object),onClick:Function,onHold:Function,canClick:{type:q(Boolean),required:!0},small:Boolean,mark:q(Boolean,String),id:{type:String,required:!0}},components:{Node:bn,MarkNode:_n},setup(e){const{display:t,onClick:n,onHold:s}=ne(e),i=ce("");we(()=>{const a=de(t);if(a==null){i.value="";return}if(gt(a)){i.value=ee(a);return}const d=ee(a.title||"","h3"),f=ee(a.description,"div");i.value=ee(Z(()=>y("span",null,[a.title!=null?y("div",null,[y(d,null,null)]):null,y(f,null,null)])))});const{start:r,stop:l}=dn(n,s);return{start:r,stop:l,comp:i,Visibility:Be,unref:o}}});function Ya(e,t,n,s,i,r){var d;const l=Le("MarkNode"),a=Le("Node");return e.unref(e.visibility)!==e.Visibility.None?(h(),N("button",{key:0,style:oe([{visibility:e.unref(e.visibility)===e.Visibility.Hidden?"hidden":void 0},(d=e.unref(e.style))!=null?d:[]]),onClick:t[0]||(t[0]=(...f)=>e.onClick&&e.onClick(...f)),onMousedown:t[1]||(t[1]=(...f)=>e.start&&e.start(...f)),onMouseleave:t[2]||(t[2]=(...f)=>e.stop&&e.stop(...f)),onMouseup:t[3]||(t[3]=(...f)=>e.stop&&e.stop(...f)),onTouchstartPassive:t[4]||(t[4]=(...f)=>e.start&&e.start(...f)),onTouchendPassive:t[5]||(t[5]=(...f)=>e.stop&&e.stop(...f)),onTouchcancelPassive:t[6]||(t[6]=(...f)=>e.stop&&e.stop(...f)),class:se({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(h(),V(J(e.unref(e.comp)),{key:0})):I("",!0),y(l,{mark:e.unref(e.mark)},null,8,["mark"]),y(a,{id:e.id},null,8,["id"])],38)):I("",!0)}var Za=A(Ka,[["render",Ya],["__scopeId","data-v-6541a0b8"]]);const Ja=Symbol("Clickable");function Xa(e){return Fe(()=>{var n;const t=(n=e==null?void 0:e())!=null?n:{};if(t.id=ht("clickable-"),t.type=Ja,t[Se]=Za,P(t,"visibility"),X(t,"visibility",Be.Visible),P(t,"canClick"),X(t,"canClick",!0),P(t,"classes"),P(t,"style"),P(t,"mark"),P(t,"display"),t.onClick){const s=t.onClick.bind(t);t.onClick=function(i){o(t.canClick)!==!1&&s(i)}}if(t.onHold){const s=t.onHold.bind(t);t.onHold=function(){o(t.canClick)!==!1&&s()}}return t[Me]=function(){const{display:s,visibility:i,style:r,classes:l,onClick:a,onHold:d,canClick:f,small:b,mark:v,id:p}=this;return{display:s,visibility:i,style:o(r),classes:l,onClick:a,onHold:d,canClick:f,small:b,mark:v,id:p}},t})}function Qa(e){return Xa(()=>{const t=e();P(t,"showNextAt"),X(t,"showNextAt",!0),X(t,"minimumGain",1),t.resetDescription==null?t.resetDescription=$(()=>m.lt(t.conversion.gainResource.value,1e3)?"Reset for ":""):P(t,"resetDescription"),t.display==null&&(t.display=Z(()=>y("span",null,[o(t.resetDescription),y("b",null,[lt(t.conversion.gainResource,m.max(o(t.conversion.actualGain),o(t.minimumGain)))])," ",t.conversion.gainResource.displayName,o(t.showNextAt)!=null?y("div",null,[y("br",null,null),o(t.conversion.buyMax)?"Next:":"Req:"," ",lt(t.conversion.baseResource,o(t.conversion.buyMax)||m.floor(o(t.conversion.actualGain)).neq(1)?o(t.conversion.nextAt):o(t.conversion.currentAt))," ",t.conversion.baseResource.displayName]):null]))),t.canClick==null&&(t.canClick=$(()=>m.gte(o(t.conversion.actualGain),o(t.minimumGain))));const n=t.onClick;return t.onClick=function(){o(t.canClick)!==!1&&(t.conversion.convert(),t.tree.reset(t.treeNode),t.resetTime&&(t.resetTime.value=t.resetTime[$e]),n==null||n())},t})}function eo(e){return ka(()=>{const t=e();return P(t,"display"),X(t,"display",t.layerID),P(t,"append"),{...t,display:t.display,onClick:o(t.append)?function(){if(T.tabs.includes(t.layerID)){const n=T.tabs.lastIndexOf(t.layerID);T.tabs.splice(n,1)}else T.tabs.push(t.layerID)}:function(){T.tabs.splice(1,1,t.layerID)}}})}const jt="p",ut=xt(jt,function(){const e="Prestige",t="#4BDC13",n=yn(0,"prestige points"),s=Ia(()=>({scaling:Ca(10,.5),baseResource:ct.points,gainResource:n,roundUpCost:!0})),i=La(()=>({thingsToReset:()=>[ut]})),r=eo(()=>({layerID:jt,color:t,reset:i}));Wa(r,{display:Ma(n),pinnable:!0});const l=Qa(()=>({conversion:s,tree:ct.tree,treeNode:r})),a=Ra(()=>({description:"Reset for prestige points",key:"p",onPress:l.onClick}));return{name:e,color:t,points:n,display:Z(()=>y(K,null,[y(za,{resource:n,color:t},null),Ze(l)])),treeNode:r,hotkey:a}}),ct=xt("main",function(){const e=yn(10),t=ea(e),n=ta(e),s=$(()=>new m(1));Y.on("update",l=>{e.value=m.add(e.value,m.times(s.value,l))});const i=ia(e,s),r=wa(()=>({nodes:[[ut.treeNode]],branches:[],onReset(){e.value=Lt(this.resettingNode.value)===Lt(ut.treeNode)?0:10,t.value=e.value,n.value=e.value},resetPropagation:Sa}));return{name:"Tree",links:r.links,display:Z(()=>y(K,null,[T.devSpeed===0?y("div",null,[E("Game Paused")]):null,T.devSpeed!=null&&T.devSpeed!==0&&T.devSpeed!==1?y("div",null,[E("Dev Speed: "),he(T.devSpeed),E("x")]):null,T.offlineTime!=null&&T.offlineTime!==0?y("div",null,[E("Offline Time: "),mt(T.offlineTime)]):null,y("div",null,[m.lt(e.value,"1e1000")?y("span",null,[E("You have ")]):null,y("h2",null,[he(e.value)]),m.lt(e.value,"1e1e6")?y("span",null,[E(" points")]):null]),m.gt(s.value,0)?y("div",null,[E("("),i.value,E(")")]):null,y(Qr,null,null),Ze(r)])),points:e,best:t,total:n,oomps:i,tree:r}}),to=e=>[ct,ut],Rt=$(()=>!1);function no(e,t){}var so=Object.freeze(Object.defineProperty({__proto__:null,main:ct,getInitialLayers:to,hasWon:Rt,fixOldSave:no},Symbol.toStringTag,{value:"Module"}));const Xe=e=>(ge("data-v-4a50ce42"),e=e(),pe(),e),io={class:"game-over-modal-header"},ro=["src","alt"],ao={class:"game-over-modal-title"},oo=Xe(()=>c("h2",null,"Congratulations!",-1)),lo={key:0},uo=Xe(()=>c("br",null,null,-1)),co=Xe(()=>c("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),fo=Xe(()=>c("br",null,null,-1)),mo=["href"],ho=Xe(()=>c("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),go=R({__name:"GameOverScreen",setup(e){const{title:t,logo:n,discordName:s,discordLink:i,versionNumber:r,versionTitle:l}=B,a=$(()=>mt(T.timePlayed)),d=$(()=>Rt.value&&!T.keepGoing),f=me(T,"autosave");function b(){T.keepGoing=!0}function v(){Pe(De())}return(p,_)=>(h(),V(Oe,{"model-value":o(d)},{header:O(()=>[c("div",io,[o(n)?(h(),N("img",{key:0,class:"game-over-modal-logo",src:o(n),alt:o(t)},null,8,ro)):I("",!0),c("div",ao,[oo,c("h4",null,"You've beaten "+D(o(t))+" v"+D(o(r))+": "+D(o(l)),1)])])]),body:O(({shown:S})=>[S?(h(),N("div",lo,[c("div",null,"It took you "+D(o(a))+" to beat the game.",1),uo,co,fo,c("div",null,[c("a",{href:o(i),class:"game-over-modal-discord-link"},[ho,E(" "+D(o(s)),1)],8,mo)]),y(be,{title:"Autosave",modelValue:o(f),"onUpdate:modelValue":_[0]||(_[0]=k=>z(f)?f.value=k:null)},null,8,["modelValue"])])):I("",!0)]),footer:O(()=>[c("div",{class:"game-over-footer"},[c("button",{onClick:b,class:"button"},"Keep Going"),c("button",{onClick:v,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var po=A(go,[["__scopeId","data-v-4a50ce42"]]);const vt=e=>(ge("data-v-7372ecde"),e=e(),pe(),e),vo=vt(()=>c("div",{class:"nan-modal-header"},[c("h2",null,"NaN value detected!")],-1)),yo={key:0},_o=vt(()=>c("br",null,null,-1)),bo=["href"],No=vt(()=>c("span",{class:"material-icons nan-modal-discord"},"discord",-1)),ko=vt(()=>c("br",null,null,-1)),wo={class:"nan-footer"},So=R({__name:"NaNScreen",setup(e){const{discordName:t,discordLink:n}=B,s=me(T,"autosave"),i=me(H,"hasNaN"),r=C(null),l=$(()=>{var _;return(_=H.NaNPath)==null?void 0:_.join(".")}),a=$(()=>{var _;return(_=H.NaNPath)==null?void 0:_.slice(-1)[0]}),d=$(()=>H.NaNReceiver&&a.value!=null?H.NaNReceiver[a.value]:null),f=$({get(){return T.devSpeed===0},set(_){T.devSpeed=_?null:0}});function b(){H.NaNReceiver&&a.value!=null&&(H.NaNReceiver[a.value]=new m(0),H.hasNaN=!1)}function v(){H.NaNReceiver&&a.value!=null&&(H.NaNReceiver[a.value]=new m(1),H.hasNaN=!1)}function p(){H.NaNReceiver&&a.value!=null&&(H.NaNReceiver[a.value]=new m(NaN),H.hasNaN=!1)}return(_,S)=>(h(),N(K,null,[y(Oe,xe({modelValue:o(i),"onUpdate:modelValue":S[4]||(S[4]=k=>z(i)?i.value=k:null)},_.$attrs),{header:O(()=>[vo]),body:O(()=>[c("div",null,[E(' Attempted to assign "'+D(o(l))+'" to NaN',1),o(d)?(h(),N("span",yo,D(" ")+"(previously "+D(o(he)(o(d)))+")",1)):I("",!0),E(". Auto-saving has been "+D(o(s)?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),_o,c("div",null,[c("a",{href:o(n),class:"nan-modal-discord-link"},[No,E(" "+D(o(t)),1)],8,bo)]),ko,y(be,{title:"Autosave",modelValue:o(s),"onUpdate:modelValue":S[0]||(S[0]=k=>z(s)?s.value=k:null)},null,8,["modelValue"]),o(B).enablePausing?(h(),V(be,{key:0,title:"Pause game",modelValue:o(f),"onUpdate:modelValue":S[1]||(S[1]=k=>z(f)?f.value=k:null)},null,8,["modelValue"])):I("",!0)]),footer:O(()=>[c("div",wo,[c("button",{onClick:S[2]||(S[2]=k=>{var L;return(L=r.value)==null?void 0:L.open()}),class:"button"},"Open Saves Manager"),c("button",{onClick:b,class:"button"},"Set to 0"),c("button",{onClick:v,class:"button"},"Set to 1"),o(d)&&o(m).neq(o(d),0)&&o(m).neq(o(d),1)?(h(),N("button",{key:0,onClick:S[3]||(S[3]=k=>i.value=!1),class:"button"}," Set to previous ")):I("",!0),c("button",{onClick:p,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),y(pn,{ref_key:"savesManager",ref:r},null,512)],64))}});var Mo=A(So,[["__scopeId","data-v-7372ecde"]]);const $o={key:0,class:"tpsDisplay"},Co={key:0,class:"low"},Io=R({__name:"TPS",setup(e){const t=$(()=>m.div(H.lastTenTicks.length,H.lastTenTicks.reduce((r,l)=>r+l,0))),n=C([]);we(()=>{n.value.push(Math.round(t.value.toNumber())),n.value.length>10&&(n.value=n.value.slice(1))});const s=$(()=>n.value.reduce((r,l)=>m.max(r,l),0)),i=$(()=>m.sub(t.value,s.value).gt(1));return(r,l)=>o(t).isNan()?I("",!0):(h(),N("div",$o,[E(" TPS: "+D(o(qe)(o(t)))+" ",1),y(St,{name:"fade"},{default:O(()=>[o(i)?(h(),N("span",Co,D(o(qe)(o(s))),1)):I("",!0)]),_:1})]))}});var To=A(Io,[["__scopeId","data-v-46a3ed5b"]]);var Po=R({__name:"App",setup(e){const t=B.useHeader,n=$(()=>$t[Q.theme].variables),s=me(Q,"showTPS"),i=$(()=>ee(Z(()=>y(K,null,[ti.map(Ze)]))));return(r,l)=>(h(),N(K,null,[c("div",{id:"modal-root",style:oe(o(n))},null,4),c("div",{class:se(["app",{useHeader:o(t)}]),style:oe(o(n))},[o(t)?(h(),V(vn,{key:0})):I("",!0),y(Xr),o(o(s))?(h(),V(To,{key:1})):I("",!0),y(po),y(Mo),(h(),V(J(o(i))))],6)],64))}});var xo=A(Po,[["__scopeId","data-v-a2030e48"]]);Y.on("setupVue",e=>e.use(Fn));function Oo(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:i,onRegisterError:r}=e;let l,a;const d=async(f=!0)=>{f&&(l==null||l.addEventListener("controlling",b=>{b.isUpdate&&window.location.reload()})),a&&a.waiting&&await Rn(a.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){l=new Vn("./sw.js",{scope:"./",type:"classic"}),l.addEventListener("activated",f=>{f.isUpdate||s==null||s()});{const f=()=>{n==null||n()};l.addEventListener("waiting",f),l.addEventListener("externalwaiting",f)}l.register({immediate:t}).then(f=>{a=f,i==null||i(f)}).catch(f=>{r==null||r(f)})}return d}function Fo(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:s,onRegistered:i,onRegisterError:r}=e,l=C(!1),a=C(!1);return{updateServiceWorker:Oo({immediate:t,onNeedRefresh(){l.value=!0,n==null||n()},onOfflineReady(){a.value=!0,s==null||s()},onRegistered:i,onRegisterError:r}),offlineReady:a,needRefresh:l}}document.title=B.title;window.projInfo=B;if(B.id==="")throw"Project ID is empty! Please select a unique ID for this project in /src/data/projInfo.json";requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await Zs();const{globalBus:e}=await it(()=>Promise.resolve().then(function(){return Fs}),void 0),{startGameLoop:t}=await it(()=>import("./gameLoop.c61d3ff5.js"),["assets/gameLoop.c61d3ff5.js","assets/@fontsource.f66d05e7.css","assets/vue.84036b60.js","assets/lz-string.731cedc5.js","assets/@vue.4ce677c2.js","assets/nanoevents.1080beb7.js","assets/is-plain-object.906d88e8.js","assets/vue-next-select.fc90abc3.js","assets/vue-next-select.9e6f4164.css","assets/vuedraggable.d7ae4e1e.js","assets/sortablejs.d0b0aa19.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-toastification.4982b895.js","assets/vue-toastification.4b5f8ac8.css","assets/workbox-window.8d14e8b7.js"]),n=window.vue=In(xo);e.emit("setupVue",n),n.mount("#app"),Ce(()=>{const s=En(),{updateServiceWorker:i}=Fo({onNeedRefresh(){s.info("New content available, click here to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){i()}})},onOfflineReady(){s.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(r){r&&setInterval(()=>r.update(),60*60*1e3)}})}),t()});export{m as D,it as _,H as a,B as b,so as c,Y as g,Ft as l,T as p,Q as s};
